/*
Navicat MySQL Data Transfer

Source Server         : localhost
Source Server Version : 50727
Source Host           : localhost:3306
Source Database       : newspiral

Target Server Type    : MYSQL
Target Server Version : 50727
File Encoding         : 65001

Date: 2020-10-19 11:47:18
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for auth
-- ----------------------------
DROP TABLE IF EXISTS `auth`;
CREATE TABLE `auth` (
  `ID` int(10) NOT NULL AUTO_INCREMENT,
  `AUTH_NAME` varchar(64) NOT NULL COMMENT '权限名称',
  `AUTH_CODE` varchar(64) DEFAULT NULL COMMENT '权限code',
  `AUTH_DESCRIPTION` varchar(255) DEFAULT NULL COMMENT '权限说明',
  `INTERFACE_ID` varchar(255) DEFAULT NULL COMMENT '接口id，可多个',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Records of auth
-- ----------------------------
INSERT INTO `auth` VALUES ('1', '业务写合约调用', 'write_business_contract', '业务写合约调用权限', '1', '2020-10-16 10:36:21', '2020-10-16 10:36:22');
INSERT INTO `auth` VALUES ('2', '业务读合约调用', 'read_business_contract', '业务读合约调用权限', '2', '2020-10-16 10:37:03', '2020-10-16 10:37:04');
INSERT INTO `auth` VALUES ('3', '单个交易查询', 'query_transaction', '单个交易查询权限', '4,5,6', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('4', '批量交易查询', 'query_batch_transaction', '批量交易查询权限', '7,8', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('5', '区块查询', 'query_block', '区块查询权限', '9,10,11,12,13', '2020-10-16 14:26:43', '2020-10-16 14:26:44');
INSERT INTO `auth` VALUES ('6', '批量区块查询', 'query_batch_block', '批量区块查询权限', '14', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('7', '单个世界状态查询', 'query_world_state', '单个世界状态查询权限', '15', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('8', '节点监控', 'monitor_peer', '节点监控权限', '17,20', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('9', '通道管理', 'manage_channel', '通道管理权限', '21,22,23,24,25,61', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('10', '节点管理', 'manage_peer', '节点管理权限', '25,26,27,62,63,64,65', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('11', '共识节点', 'consensus_peer', '共识节点权限', '28,29,30,46,47,48,49,50,51,52,53,54,58,59,60', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('12', '角色查询', 'query_role', '角色查询权限', '3,66,67', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('13', '角色管理', 'manage_role', '角色管理权限', '25,68,69', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('14', '成员查询（成员包括组织和业务应用）', 'query_member', '成员查询（成员包括组织和业务应用权限', '3,70,71', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('15', '成员管理', 'manage_member', '成员管理权限', '3,72,73,79', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('16', '业务合约查询', 'query_contract', '业务合约查询权限', '3,74,75', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
INSERT INTO `auth` VALUES ('17', '业务合约管理', 'manage_contract', '业务合约管理权限      ', '25,76,77,78', '2020-10-16 14:19:26', '2020-10-16 14:19:27');
-- ----------------------------
-- Table structure for block
-- ----------------------------
DROP TABLE IF EXISTS `block`;
CREATE TABLE `block` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHANNEL_ID` varchar(64) COLLATE utf8_bin NOT NULL COMMENT '通道ID',
  `BLOCK_ID` bigint(20) NOT NULL,
  `VERSION` varchar(45) COLLATE utf8_bin NOT NULL,
  `HASH` varchar(64) COLLATE utf8_bin NOT NULL,
  `PREV_BLOCK_HASH` varchar(64) COLLATE utf8_bin NOT NULL,
  `PREV_BLOCK_HEIGHT` bigint(20) DEFAULT NULL,
  `BLOCK_BUILDER_ID` varchar(1024) COLLATE utf8_bin NOT NULL COMMENT '创建者身份',
  `PACK_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  `BLOCK_CONSENSUS` varchar(45) COLLATE utf8_bin NOT NULL,
  `BLOCK_WITNESS` text COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`ID`,`CHANNEL_ID`) USING BTREE,
  KEY `block_block_id` (`BLOCK_ID`) USING BTREE,
  KEY `block_hash` (`HASH`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=405 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of block
-- ----------------------------

-- ----------------------------
-- Table structure for block_cache
-- ----------------------------
DROP TABLE IF EXISTS `block_cache`;
CREATE TABLE `block_cache` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHANNEL_ID` varchar(64) COLLATE utf8_bin NOT NULL COMMENT '通道ID',
  `BLOCK_ID` bigint(20) NOT NULL,
  `VERSION` varchar(45) COLLATE utf8_bin NOT NULL,
  `HASH` varchar(64) COLLATE utf8_bin NOT NULL,
  `PREV_BLOCK_HASH` varchar(64) COLLATE utf8_bin NOT NULL,
  `PREV_BLOCK_HEIGHT` bigint(20) DEFAULT NULL,
  `BLOCK_BUILDER_ID` varchar(1024) COLLATE utf8_bin NOT NULL COMMENT '创建者身份',
  `PACK_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  `BLOCK_CONSENSUS` varchar(45) COLLATE utf8_bin NOT NULL,
  `BLOCK_WITNESS` text COLLATE utf8_bin NOT NULL,
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of block_cache
-- ----------------------------

-- ----------------------------
-- Table structure for CHANNEL
-- ----------------------------
DROP TABLE IF EXISTS `CHANNEL`;
CREATE TABLE `CHANNEL` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `CHANNEL_ID` char(128) COLLATE utf8_bin NOT NULL COMMENT '使用UUID去除分隔符生成，固定32个字符；使用UUID保证全局唯一',
  `NAME` varchar(255) COLLATE utf8_bin NOT NULL COMMENT '通道名称',
  `BLOCK_MAX_SIZE` bigint(20) NOT NULL COMMENT '本链的最大块大小',
  `BLOCK_MAX_INTERVAL` bigint(20) DEFAULT NULL COMMENT '单位毫秒，如果blockMaxInterval时间范围内存在至少一笔交易，则生成一个区块',
  `MAX_PEER_COUNT` int(11) DEFAULT NULL COMMENT '加入该链的最大节点数量',
  `PEER_ADD_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '节点加入链的控制策略',
  `MODIFY_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '修改链的元数据的策略',
  `SC_DEPOLY_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '智能合约部署、升级控制策略',
  `CONSENSUS_ALGORITHM` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '该链的共识算法，用于共识区块',
  `TX_POOL_SIZE` bigint(20) DEFAULT NULL COMMENT '节点为该链创建的交易池的大小，单位字节',
  `ALLOW_TIME_ERROR_SECONDS` bigint(20) DEFAULT NULL COMMENT '接收到请求的创建时间与本地时间差距大于此值的，直接在入口处拒绝该请求',
  `SECURITY_SERVICE_KEY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '使用的安全服务的key，用于指定使用何种加解密算法',
  `EXTENDS_PARAMS` varchar(4096) COLLATE utf8_bin DEFAULT NULL COMMENT '一些扩展参数，共识的超时时间，ES的相关备注等',
  `MAX_TRANSACTION_COUNT` bigint(20) DEFAULT NULL COMMENT '最多交易笔量',
  `MASTER_PUBLICK_KEY` varchar(1000) COLLATE utf8_bin DEFAULT NULL COMMENT 'SM9签名主公钥，加密后',
  `AVAILABLE` int(11) DEFAULT '1' COMMENT '通道是否还可用',
  `CREATE_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  `ORGANIZATION_ID` varchar(32) COLLATE utf8_bin DEFAULT NULL COMMENT '组织ID',
  `MEMBER_ADD_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员加入或修改链的控制策略',
  `MEMBER_MODIFY_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员修改控制策略',
  `MEMBER_DEL_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员移除链的数据的策略',
  `ROLE_ADD_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '角色新增控制策略',
  `ROLE_MODIFY_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '角色修改控制策略',
  `ROLE_DEL_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '角色删除控制策略',
  PRIMARY KEY (`ID`) USING BTREE,
  UNIQUE KEY `CHANNEL_ID` (`CHANNEL_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of CHANNEL
-- ----------------------------
INSERT INTO `CHANNEL` VALUES ('1', '3D14925FE238443FB3192BC0DBE23D33', '测试通道2020-10-19 09:10:27', '500000', '2000', '100', '\"ABSOLUTE_MAJORITY_AGREE\"', '\"ABSOLUTE_MAJORITY_AGREE\"', '\"MANAGER_AGREE\"', '\"NEWSPIRAL_HOT_STUFF\"', '10737418240', '3', 'OsccaSecurityServiceImpl', '{\"viewTimeoutMs\":\"4000\"}', '100000', null, '1', '2020-10-19 09:10:30.097', '767501335456120832', '\"MANAGER_AGREE\"', '\"MANAGER_AGREE\"', '\"PARENT_AGREE\"', '\"MANAGER_AGREE\"', '\"MANAGER_AGREE\"', '\"MANAGER_AGREE\"');

-- ----------------------------
-- Table structure for identity
-- ----------------------------
DROP TABLE IF EXISTS `identity`;
CREATE TABLE `identity` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `IDENTITY_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT 'IdentityKey的JSON序列化字符串，数量很少，无所谓性能',
  `PARENT_ID` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '父级',
  `EXTENDED_PROPS` varchar(1024) COLLATE utf8_bin DEFAULT NULL COMMENT '扩展属性',
  `SETUP_TIMESTAMP` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`ID`) USING BTREE,
  UNIQUE KEY `IDENTITY_ID` (`IDENTITY_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of identity
-- ----------------------------
INSERT INTO `identity` VALUES ('1', '{\"type\":\"CHINA_PKI\",\"value\":\"767501447171407872\"}', '{\"type\":\"CHINA_PKI\",\"value\":\"767501335456120832\"}', null, '2020-10-18 21:38:54');

-- ----------------------------
-- Table structure for interface
-- ----------------------------
DROP TABLE IF EXISTS `interface`;
CREATE TABLE `interface` (
  `ID` int(10) NOT NULL AUTO_INCREMENT,
  `INTERFACE_NAME` varchar(64) NOT NULL COMMENT '接口名称("别名")',
  `CLASS_PATH` varchar(128) NOT NULL COMMENT '类路径',
  `CLASS_NAME` varchar(128) NOT NULL COMMENT '类名',
  `METHOD_NAME` varchar(128) DEFAULT NULL COMMENT '方法名',
  `METHOD_ARGS` varchar(128) DEFAULT NULL COMMENT '方法参数',
  `REMARK` varchar(255) DEFAULT NULL COMMENT '说明备注',
  `CREATE_TIME` timestamp NULL DEFAULT NULL,
  `UPDATE_TIME` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=79 DEFAULT CHARSET=utf8mb4;

-- ----------------------------
-- Records of interface
-- ----------------------------
INSERT INTO `interface` VALUES ('1', '业务写智能合约', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'callExecuteBusinessSmartContract', 'SDKTransactionReq', null, '2020-10-16 10:20:40', '2020-10-16 10:20:43');
INSERT INTO `interface` VALUES ('2', '业务读合约调用权限', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'callQueryBusinessSmartContract', 'SDKTransactionReq', null, '2020-10-16 10:33:55', '2020-10-16 10:33:57');
INSERT INTO `interface` VALUES ('3', '系统读合约调用', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'callQuerySmartContract', 'SDKTransactionReq', null, '2020-10-16 10:38:21', '2020-10-16 10:38:23');
INSERT INTO `interface` VALUES ('4', '根据交易的客户端ID查询交易', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryTransactionByTransClientTxId', 'TransClientTxIdReq', null, '2020-10-16 11:40:13', '2020-10-16 11:40:14');
INSERT INTO `interface` VALUES ('5', '根据交易的全局ID（即hash）查询交易', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryTransactionByTransHash', 'TransHashReq', null, '2020-10-16 11:40:47', '2020-10-16 11:40:48');
INSERT INTO `interface` VALUES ('6', '根据交易所属区块Hash和交易在区块中的序号查询交易', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryTransactionByBlockHash', 'TransBlockHashReq', null, '2020-10-16 11:41:18', '2020-10-16 11:41:19');
INSERT INTO `interface` VALUES ('7', '查询某个区块的所有交易', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'getTransactionsByHash', 'QueryTransactionsByBlockHashReq', null, '2020-10-16 11:43:01', '2020-10-16 11:43:03');
INSERT INTO `interface` VALUES ('8', '根据世界状态key查询相关的交易历史', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryTxHistory', 'QueryTxReq', null, '2020-10-16 11:43:23', '2020-10-16 11:43:24');
INSERT INTO `interface` VALUES ('9', '根据区块哈希查询区块（不包含交易列表）', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryBlockByHash', 'BlockHashReq', null, '2020-10-16 11:44:07', '2020-10-16 11:44:08');
INSERT INTO `interface` VALUES ('10', '根据区块高度查询区块（不包含交易列表）', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryBlockByHeight', 'BlockHeightRegionReq', null, '2020-10-16 11:44:38', '2020-10-16 11:44:39');
INSERT INTO `interface` VALUES ('11', '查询某个通道在本节点的最新的区块信息', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryLatestBlock', 'SummaryBlockReq', null, '2020-10-16 11:45:35', '2020-10-16 11:45:36');
INSERT INTO `interface` VALUES ('12', '根据交易哈希查询所属区块（不包含交易列表）', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryBlockByTransHash', 'TransHashReq', null, '2020-10-16 11:46:47', '2020-10-16 11:46:48');
INSERT INTO `interface` VALUES ('13', '根据交易的客户端ID查询所属区块（不包含交易列表）', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryBlockByTransClientTxId', 'TransClientTxIdReq', null, '2020-10-16 11:47:13', '2020-10-16 11:47:17');
INSERT INTO `interface` VALUES ('14', '根据高度范围查询区块列表（不包含交易列表）', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryBlockByHeightRegion', 'BlockHeightRegionReq', null, '2020-10-16 11:48:03', '2020-10-16 11:48:04');
INSERT INTO `interface` VALUES ('15', '查询世界状态', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'queryWorldState', 'QueryWorldStateReq', null, '2020-10-16 11:48:17', '2020-10-16 11:48:16');
INSERT INTO `interface` VALUES ('17', '节点程序版本号查询', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'version', null, null, '2020-10-16 11:49:53', '2020-10-16 11:49:54');
INSERT INTO `interface` VALUES ('20', '查询节点当前状态：状态、服务地址、系统负载信息、加入的通道简要信息', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'getPeerCurrentState', 'PeerIdentityReq', null, '2020-10-16 11:51:51', '2020-10-16 11:51:53');
INSERT INTO `interface` VALUES ('21', '删除所有通道', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'removeAllChannel', null, null, '2020-10-16 11:52:56', '2020-10-16 11:52:58');
INSERT INTO `interface` VALUES ('22', '从通道中删除一个节点', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'removePeerFromChannel', 'RemovePeerFromChannelRequest', null, '2020-10-16 11:52:55', '2020-10-16 11:52:59');
INSERT INTO `interface` VALUES ('23', '删除通道', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'deleteChannel', 'DeleteChannelReq', null, '2020-10-16 11:53:22', '2020-10-16 11:53:24');
INSERT INTO `interface` VALUES ('24', '创建通道', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'createChannel', 'ChannelInitReq', null, '2020-10-16 11:54:05', '2020-10-16 11:54:06');
INSERT INTO `interface` VALUES ('25', '系统写合约调用', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'callExecuteSmartContract', 'SDKTransactionReq', null, '2020-10-16 11:55:00', '2020-10-16 11:55:02');
INSERT INTO `interface` VALUES ('26', '停止节点', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'stopPeer', 'PeerIdentityReq', null, '2020-10-16 11:56:04', '2020-10-16 11:56:06');
INSERT INTO `interface` VALUES ('27', '将本节点退出某个通道', 'com.jinninghui.newspiral.gateway', 'ServiceForSDKImpl', 'exitMySelfFromChannel', 'ExitMySelfFromChannelReq', null, '2020-10-16 11:56:26', '2020-10-16 11:56:27');
INSERT INTO `interface` VALUES ('28', '处理通道的BlockVote消息', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'addBlockVoteMsg', 'BlockVoteMsg', null, '2020-10-16 13:41:12', '2020-10-16 13:41:13');
INSERT INTO `interface` VALUES ('29', '增加GenericMsg消息', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'addGenericMsg', 'GenericMsg', null, '2020-10-16 13:43:26', '2020-10-16 13:43:27');
INSERT INTO `interface` VALUES ('30', '处理某个通道的NewView消息', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'addNewViewMsg', 'NewViewMsg,String', null, '2020-10-16 13:45:59', '2020-10-16 13:46:00');
INSERT INTO `interface` VALUES ('46', '新交易加入交易池', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'addSDKTranscation', 'SDKTransaction', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('47', '根据区块Hash查询某个区块', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryBlockByHash', 'String,String', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('48', '根据区块高度查询某个区块', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryBlockByHeight', 'String,Long', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('49', '参与共识之前获取链状态', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryChainState', 'QueryChainStateReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('50', '查询某个通道的区块链概要信息', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryChainSummary', 'QueryChannelReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('51', '返回简单的可以向通道外公布的通道信息', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryChannel', 'QueryChannelReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('52', '查询某个节点保存的某个通道基础参数', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryChannelBasicParams', 'QueryChannelReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('53', '查询历史块', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryHistoryBlock', 'QueryHistoryBlockReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('54', '查询历史QC', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryHistoryQC', 'QueryHistoryQCReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('58', '获取当前节点的view值', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryViewNo', 'QueryViewNoReq', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('59', '从通道里移除节点', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'removePeerFromChannel', 'SDKTransaction', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('60', '查询节点组织状态', 'com.jinninghui.newspiral.gateway', 'ServiceForPeerImpl', 'queryPeerOrganizationState', 'String', null, '2020-10-16 13:46:50', '2020-10-16 13:46:51');
INSERT INTO `interface` VALUES ('61', '通道参数管理', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'updateChannelBlockMaxSize', 'List<ChannelBlockMaxSizeApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('62', '添加节点至通道', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'addOnePeer', 'List<AddPeer2ChannelToken>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('63', '从通道删除某节点', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'removeOnePeer', 'List<RemovePeerFromChannelToken>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('64', '更新节点证书', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'updatePeerCertificate', 'List<PeerCertificateUpdateApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('65', '更新节点证书状态', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'updatePeerCertificateState', 'List<PeerCertificateStateApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('66', '查询角色', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'getRole', 'List<QueryRoleApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('67', '查询角色列表', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'getRoleList', 'List<QueryRoleApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('68', '添加自定义角色', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'addCustomRole', 'List<RoleAddApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('69', '修改自定义角色', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'updateCustomRole', 'List<RoleUpdateApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('70', '成员查询', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'getMember', 'List<QueryMemberApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('71', '成员列表查询', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'getMemberList', 'List<QueryMemberListApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('72', '添加成员（组织和业务应用）', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'addMember', 'List<MemberAddApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('73', '更新成员（组织和业务应用）', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'memberUpdateInfo', 'List<MemberUpdateApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('74', '智能合约查询', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'getSmartContract', 'QuerySmartContractApproval', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('75', '智能合约列表查询', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'getSmartContractList', 'QuerySmartContractListApproval', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('76', '业务智能合约管理', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'updateSmartContractAuthorized', 'List<SmartContractAuthorizedApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('77', '业务智能合约管理', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'updateSmartContractFlag', 'List<SmartContractDeployToken>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('78', '部署和升级业务智能合约', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'deploySmartContract', 'List<SmartContractDeployToken>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');
INSERT INTO `interface` VALUES ('79', '删除成员（组织和业务应用）', 'com.jinninghui.newspiral.consensus.impl.hotstuff.txexecutor', 'SystemSmartContract', 'deleteMember', 'List<MemberUpdateApproval>', null, '2020-10-16 14:00:30', '2020-10-16 14:00:31');

-- ----------------------------
-- Table structure for member
-- ----------------------------
DROP TABLE IF EXISTS `member`;
CREATE TABLE `member` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `PUBLIC_KEY` varchar(300) COLLATE utf8_bin NOT NULL COMMENT '数字证书的公钥，长度与具体采用的非对称加解密算法相关',
  `NAME` varchar(256) COLLATE utf8_bin NOT NULL COMMENT '名称',
  `ISSUER_ID` varchar(300) COLLATE utf8_bin DEFAULT NULL COMMENT '签发者ID或组织ID',
  `EXTENDED_DATA` text COLLATE utf8_bin COMMENT '扩展属性',
  `CHANNEL_ID` varchar(32) COLLATE utf8_bin NOT NULL COMMENT '通道编号',
  `CERTIFICATE_CER_FILE` longtext COLLATE utf8_bin COMMENT '预留字段，PKI中CA证书文件的字节数组',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '修改时间',
  `STATUS` tinyint(4) DEFAULT '0' COMMENT '0正常，1证书过期，2业务冻结，3业务删除',
  `SIGN_ALGORITHM` varchar(16) COLLATE utf8_bin DEFAULT NULL COMMENT '签名算法，取CERTIFICATE_CER_FILE属性的signature字段值',
  PRIMARY KEY (`ID`) USING BTREE,
  UNIQUE KEY `PUBLICKEY` (`CHANNEL_ID`,`PUBLIC_KEY`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of member
-- ----------------------------
INSERT INTO `member` VALUES ('1', 'MFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAEcJr63D6rgIZ2eVSS9dExzjQt/zROihkYDGoJdWsU0HZcsV6jpkKzJIGsNj9m3JA900SRaZTyD6gDujwXoj8FOA==', '武汉', '767501335456120832', null, '', 0x2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D494942776A43434157696741774942416749474158553736762F564D416F4743437142484D395641594E314D457378437A414A42674E5642415954416B4E4F0A4D526377465159445651514B4441354451655750722B532F6F65616375756165684445534D424147413155454341774A52335668626D64456232356E4D5138770A445159445651514844415A4762314E6F595734774868634E4D6A41784D4445344D544D7A4E4445345768634E4D6A55784D4445334D544D7A4E444534576A42430A4D517377435159445651514745774A44546A45504D41304741315545436777473571326D3572474A4D52457744775944565151494441684864574675524739750A5A7A45504D4130474131554542777747526D3954614746754D466B77457759484B6F5A497A6A3043415159494B6F45637A3155426769304451674145634A72360A3344367267495A3265565353396445787A6A51742F7A524F69686B5944476F4A6457735530485A637356366A706B4B7A4A4947734E6A396D334A4139303053520A615A547944366744756A77586F6A38464F4B4E424D443877437759445652305042415144416762414D423047413155644A5151574D42514743437347415155460A42774D434267677242674546425163444244415242676C67686B6742687668434151454542414D4342344177436759494B6F45637A31554267335544534141770A525149684150415A544A5A3535466F7A6B3272754F5A38336A4A4F4E756C764650454B6C495449387241466E6332466E4169413465523875504A786346525A520A6F596E326F7045396A4A4A7A7A624B2B58346C466E4B33526E66504463513D3D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A, '2020-10-18 21:38:54', '2020-10-18 21:38:54', '0', null);
INSERT INTO `member` VALUES ('2', 'MFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAEcJr63D6rgIZ2eVSS9dExzjQt/zROihkYDGoJdWsU0HZcsV6jpkKzJIGsNj9m3JA900SRaZTyD6gDujwXoj8FOA==', 'C=CN,O=武汉,ST=GuanDong,L=FoShan', 'C=CN,O=CA可信机构,ST=GuangDong,L=FoShan', null, '3D14925FE238443FB3192BC0DBE23D33', 0x2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D494942776A43434157696741774942416749474158553736762F564D416F4743437142484D395641594E314D457378437A414A42674E5642415954416B4E4F0A4D526377465159445651514B4441354451655750722B532F6F65616375756165684445534D424147413155454341774A52335668626D64456232356E4D5138770A445159445651514844415A4762314E6F595734774868634E4D6A41784D4445344D544D7A4E4445345768634E4D6A55784D4445334D544D7A4E444534576A42430A4D517377435159445651514745774A44546A45504D41304741315545436777473571326D3572474A4D52457744775944565151494441684864574675524739750A5A7A45504D4130474131554542777747526D3954614746754D466B77457759484B6F5A497A6A3043415159494B6F45637A3155426769304451674145634A72360A3344367267495A3265565353396445787A6A51742F7A524F69686B5944476F4A6457735530485A637356366A706B4B7A4A4947734E6A396D334A4139303053520A615A547944366744756A77586F6A38464F4B4E424D443877437759445652305042415144416762414D423047413155644A5151574D42514743437347415155460A42774D434267677242674546425163444244415242676C67686B6742687668434151454542414D4342344177436759494B6F45637A31554267335544534141770A525149684150415A544A5A3535466F7A6B3272754F5A38336A4A4F4E756C764650454B6C495449387241466E6332466E4169413465523875504A786346525A520A6F596E326F7045396A4A4A7A7A624B2B58346C466E4B33526E66504463513D3D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A, '2020-10-19 09:10:30', '2020-10-19 09:10:30', '0', 'SM3WITHSM2');
INSERT INTO `member` VALUES ('4', 'MFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAESmMiB728thQdL4h8faXizYWpNTyeSmVmJl4KZkd7k5Ze9XD/ZRZ4rEdxrylMfMqjZFsAU2br5NXxK7sgfvDAZQ==', 'O=test1018,L=FoShan,ST=GuanDong,C=CN', 'C=CN,O=武汉,ST=GuanDong,L=FoShan,T=MFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAEcJr63D6rgIZ2eVSS9dExzjQt/zROihkYDGoJdWsU0HZcsV6jpkKzJIGsNj9m3JA900SRaZTyD6gDujwXoj8FOA\\=\\=,TelephoneNumber=13100000000,2.5.4.97=767501335456120832,Name=涨', 0x7B2270686F6E65223A223133373730383834393632227D, '3D14925FE238443FB3192BC0DBE23D33', 0x2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D494944547A434341765367417749424167494741585537377830444D416F4743437142484D395641594E314D4949424444454C4D416B474131554542684D430A51303478447A414E42674E5642416F4D4275617470756178695445524D413847413155454341774952335668626B5276626D6378447A414E42674E564241634D0A426B5A7655326868626A4742686A4342677759445651514D4448784E526D74335258645A53457476576B6C36616A42445156465A5355747652574E364D5656430A5A326B775246466E5155566A536E49324D305132636D644A576A4A6C566C4E544F5752466548707155585176656C4A5061576872575552486230706B56334E560A4D45686159334E574E6D707761307436536B6C48633035714F57307A536B45354D444254556D466156486C454E6D644564577033574739714F455A50515430390A4D5251774567594456515155457773784D7A45774D4441774D4441774D4445624D426B4741315545595177534E7A59334E5441784D7A4D314E4455324D5449770A4F444D794D51777743675944565151704441506D747167774868634E4D6A41784D4445344D544D7A4E4445345768634E4D6A55784D4445334D544D7A4E4445340A576A42454D524577447759445651514B457768305A584E304D5441784F4445504D4130474131554542784D47526D3954614746754D52457744775944565151490A4577684864574675524739755A7A454C4D416B474131554542684D43513034775754415442676371686B6A4F505149424267677167527A50565147434C514E430A4141524B5979494876627932464230766948783970654C4E68616B31504A354B5A57596D5867706D523375546C6C37316350396C466E6973523347764B5578380A79714E6B577742545A75766B316645727579422B384D426C6F344942426A4343415149774967594456523052424273774759454861584139626E56736249454F0A64584E6C5055566863336C5463476C79595777776267594456523066424763775A54426A6F426D67463459566148523063446F764C3364336479356A5953356A0A6232307659334A736F6B616B524442434D517377435159445651514745774A44546A45504D41304741315545436777473571326D3572474A4D524577447759440A565151494441684864574675524739755A7A45504D4130474131554542777747526D3954614746754D46514743437347415155464277454242456777526A416D0A426767724267454642516377416F59616148523063446F764C3364336479356A5953356A62323076636D39766443356A636E5177484159494B775942425155480A4D41474745476830644841364C79397659334E774C6D4E7662533877437759445652305042415144416755674D416B4741315564457751434D414177436759490A4B6F45637A315542673355445351417752674968414A2B4D5034424B6E67755071656639666445736F4B2B44576467753445434941334F6A79745268673775660A416945416C6C71532B4E5849366A6F4F484E746C46367A58587A3538416373773442765664683754704E586F5065633D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A, '2020-10-19 11:42:31', '2020-10-19 11:42:31', '0', 'SM3WITHSM2');

-- ----------------------------
-- Table structure for member_role
-- ----------------------------
DROP TABLE IF EXISTS `member_role`;
CREATE TABLE `member_role` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `MEMBER_ID` bigint(20) NOT NULL COMMENT '成员ID',
  `ROLE_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '角色ID',
  `CHANNEL_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '通道编号，冗余字段，查询使用',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of member_role
-- ----------------------------
INSERT INTO `member_role` VALUES ('1', '2', 'DEE826D175964131B7362E2DD99BB058', '3D14925FE238443FB3192BC0DBE23D33');
INSERT INTO `member_role` VALUES ('3', '4', 'D956376A79E4425B9DDE1D18B142D2C2', '3D14925FE238443FB3192BC0DBE23D33');

-- ----------------------------
-- Table structure for message
-- ----------------------------
DROP TABLE IF EXISTS `message`;
CREATE TABLE `message` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `CHANNEL_ID` varchar(64) COLLATE utf8_bin NOT NULL,
  `VIEW_NUMBER` bigint(20) NOT NULL,
  `CONTENT` longtext COLLATE utf8_bin,
  PRIMARY KEY (`ID`,`CHANNEL_ID`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of message
-- ----------------------------

-- ----------------------------
-- Table structure for peer
-- ----------------------------
DROP TABLE IF EXISTS `peer`;
CREATE TABLE `peer` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `PEER_ID_VALUE` varchar(256) COLLATE utf8_bin NOT NULL COMMENT '节点本身的身份ID，对应IdentityKey.value',
  `PEER_ID_TYPE` varchar(64) COLLATE utf8_bin NOT NULL,
  `SERVICE_URLS` varchar(1024) COLLATE utf8_bin NOT NULL COMMENT '节点的服务地址，PeerServiceUrls对应的JSON字符串',
  `ORGANIZATION_ID_TYPE` varchar(64) COLLATE utf8_bin NOT NULL,
  `ORGANIZATION_ID_VALUE` varchar(256) COLLATE utf8_bin NOT NULL COMMENT '节点所属组织的身份ID',
  `IS_LOCAL_PEER` int(11) DEFAULT NULL,
  `CERTIFICATE_CER_FILE` longtext COLLATE utf8_bin COMMENT 'PKI中CA证书文件的字节数组',
  `CERTIFICATE_KEY_STORE_FILE` longtext COLLATE utf8_bin COMMENT 'PKI本地密钥库文件的字节数组或者私钥数组',
  `CERTIFICATE_ALIAS` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT 'PKI中证书的别名',
  `CERTIFICATE_STORE_PASS` varchar(50) COLLATE utf8_bin DEFAULT NULL COMMENT 'PKI密钥库文件密码',
  PRIMARY KEY (`ID`) USING BTREE,
  UNIQUE KEY `PEER_ID_VALUE` (`PEER_ID_VALUE`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of peer
-- ----------------------------
INSERT INTO `peer` VALUES ('1', '767501447171407872', '\"CHINA_PKI\"', '{\"serviceUrlMap\":{\"FOR_PEER\":{\"type\":\"FOR_PEER\",\"url\":\"192.168.88.114:12200\"},\"FOR_SDK\":{\"type\":\"FOR_SDK\",\"url\":\"192.168.88.114:12200\"}}}', '\"CHINA_PKI\"', '767501335456120832', '1', 0x2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D494944616A434341784367417749424167494741585537375431374D416F4743437142484D395641594E314D4949424444454C4D416B474131554542684D430A51303478447A414E42674E5642416F4D4275617470756178695445524D413847413155454341774952335668626B5276626D6378447A414E42674E564241634D0A426B5A7655326868626A4742686A4342677759445651514D4448784E526D74335258645A53457476576B6C36616A42445156465A5355747652574E364D5656430A5A326B775246466E5155566A536E49324D305132636D644A576A4A6C566C4E544F5752466548707155585176656C4A5061576872575552486230706B56334E560A4D45686159334E574E6D707761307436536B6C48633035714F57307A536B45354D444254556D466156486C454E6D644564577033574739714F455A50515430390A4D5251774567594456515155457773784D7A45774D4441774D4441774D4445624D426B4741315545595177534E7A59334E5441784D7A4D314E4455324D5449770A4F444D794D51777743675944565151704441506D747167774868634E4D6A41784D4445344D544D7A4E4445345768634E4D6A55784D4445334D544D7A4E4445340A576A42584D5259774641594456515144457730784F5449754D5459344C6A41754D544D784D517777436759445651514B45774D784D7A4578447A414E42674E560A42416354426B5A7655326868626A45524D4138474131554543424D4952335668626B5276626D6378437A414A42674E5642415954416B4E4F4D466B77457759480A4B6F5A497A6A3043415159494B6F45637A3155426769304451674145356A42337445436D6470552B75507770446343577261586178332B6B4C5A53564F5A72320A56636236367470794A417447634E656342444B543056735253366C653544505538516A70687748494639687676696B552F614F43415138776767454C4D4373470A413155644551516B4D434B4245476C77505445354D6934784E6A67754D4334784D7A4742446E567A5A54314659584E3555334270636D46734D473447413155640A4877526E4D4755775936415A6F42654746576830644841364C7939336433637559324575593239744C324E79624B4A4770455177516A454C4D416B47413155450A42684D4351303478447A414E42674E5642416F4D4275617470756178695445524D413847413155454341774952335668626B5276626D6378447A414E42674E560A4241634D426B5A7655326868626A4255426767724267454642516342415152494D4559774A6759494B775942425155484D414B47476D6830644841364C7939330A6433637559324575593239744C334A766233517559334A304D4277474343734741515546427A41426868426F644852774F69387662324E7A6343356A623230760A4D4173474131556444775145417749464944414A42674E5648524D45416A41414D416F4743437142484D395641594E31413067414D4555434948414776382B520A584B7375576136664C56537065646979634539326A56517743304B7856535034315479334169454176496A4D73426C636847594154486455626D76735851586F0A6755633932337046497A35327A55704C5935673D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A, 0x32666566393938303439393239663735313461353163653636313730623930343065343362666366353966643437303265653039656365653365373665633236326533643731373963333661643366613264663265336338393664393965396634323264313465343162633338313732383464623232623939633235313164653465393133396636323761363831303561323133333830363938643432613638626436343364666137386131393361346632353739636136363133373134653839363632363664613166396131643564323833663539346562646636393537373631666265623030663933333832366432656139653966373733333566313032313030643332623563323334646262353964666631653235663161303937626562633731376135643161333266653566646636343631346134376438313936373362633735623139663236633837313432303564616438323238386330396234633538653830316266633465373132303766663030383637616164633439373765386134373863323034633736343763323364313437386365383937353037306434356166313632346132623039663464666539373438336334356666623263353130386364636235663633316266306261613363633337653533306435316536636130386537366162633333323937376237363934313766663761623536383531616230623838346238373133386162383639633538613638363131646136, '', '');

-- ----------------------------
-- Table structure for peer_certificate
-- ----------------------------
DROP TABLE IF EXISTS `peer_certificate`;
CREATE TABLE `peer_certificate` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `PEER_ID` varchar(256) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT '节点值',
  `FLAG` varchar(2) COLLATE utf8_bin NOT NULL DEFAULT '0' COMMENT '状态，0正常；1冻结；2吊销；',
  `CERTIFICATE_HASH` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'CA证书文件的哈希值',
  `CREATE_TIME` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '修改时间',
  `BLOCK_HEIGHT` bigint(20) NOT NULL DEFAULT '0' COMMENT '证书操作时的区块高度',
  `CHANNEL_ID` char(128) COLLATE utf8_bin DEFAULT NULL COMMENT '通道编号',
  `CERTIFICATE_CER_FILE` longtext COLLATE utf8_bin COMMENT 'PKI中CA证书文件的字节数组',
  `CERTIFICATE_KEY_STORE_FILE` longtext COLLATE utf8_bin COMMENT 'PKI本地密钥库文件的字节数组或者私钥数组',
  `IS_LOCAL_PEER` int(4) DEFAULT NULL COMMENT '是否是本地节点,同peer',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of peer_certificate
-- ----------------------------
INSERT INTO `peer_certificate` VALUES ('1', '767501447171407872', '0', '837BD163D4D8593E167042438BFCBC2347E26943C490E706DAF4C24B988B2D4E', '2020-10-19 09:10:30', null, '0', '3D14925FE238443FB3192BC0DBE23D33', 0x2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0A4D494944616A434341784367417749424167494741585537375431374D416F4743437142484D395641594E314D4949424444454C4D416B474131554542684D430A51303478447A414E42674E5642416F4D4275617470756178695445524D413847413155454341774952335668626B5276626D6378447A414E42674E564241634D0A426B5A7655326868626A4742686A4342677759445651514D4448784E526D74335258645A53457476576B6C36616A42445156465A5355747652574E364D5656430A5A326B775246466E5155566A536E49324D305132636D644A576A4A6C566C4E544F5752466548707155585176656C4A5061576872575552486230706B56334E560A4D45686159334E574E6D707761307436536B6C48633035714F57307A536B45354D444254556D466156486C454E6D644564577033574739714F455A50515430390A4D5251774567594456515155457773784D7A45774D4441774D4441774D4445624D426B4741315545595177534E7A59334E5441784D7A4D314E4455324D5449770A4F444D794D51777743675944565151704441506D747167774868634E4D6A41784D4445344D544D7A4E4445345768634E4D6A55784D4445334D544D7A4E4445340A576A42584D5259774641594456515144457730784F5449754D5459344C6A41754D544D784D517777436759445651514B45774D784D7A4578447A414E42674E560A42416354426B5A7655326868626A45524D4138474131554543424D4952335668626B5276626D6378437A414A42674E5642415954416B4E4F4D466B77457759480A4B6F5A497A6A3043415159494B6F45637A3155426769304451674145356A42337445436D6470552B75507770446343577261586178332B6B4C5A53564F5A72320A56636236367470794A417447634E656342444B543056735253366C653544505538516A70687748494639687676696B552F614F43415138776767454C4D4373470A413155644551516B4D434B4245476C77505445354D6934784E6A67754D4334784D7A4742446E567A5A54314659584E3555334270636D46734D473447413155640A4877526E4D4755775936415A6F42654746576830644841364C7939336433637559324575593239744C324E79624B4A4770455177516A454C4D416B47413155450A42684D4351303478447A414E42674E5642416F4D4275617470756178695445524D413847413155454341774952335668626B5276626D6378447A414E42674E560A4241634D426B5A7655326868626A4255426767724267454642516342415152494D4559774A6759494B775942425155484D414B47476D6830644841364C7939330A6433637559324575593239744C334A766233517559334A304D4277474343734741515546427A41426868426F644852774F69387662324E7A6343356A623230760A4D4173474131556444775145417749464944414A42674E5648524D45416A41414D416F4743437142484D395641594E31413067414D4555434948414776382B520A584B7375576136664C56537065646979634539326A56517743304B7856535034315479334169454176496A4D73426C636847594154486455626D76735851586F0A6755633932337046497A35327A55704C5935673D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0A, 0x32666566393938303439393239663735313461353163653636313730623930343065343362666366353966643437303265653039656365653365373665633236326533643731373963333661643366613264663265336338393664393965396634323264313465343162633338313732383464623232623939633235313164653465393133396636323761363831303561323133333830363938643432613638626436343364666137386131393361346632353739636136363133373134653839363632363664613166396131643564323833663539346562646636393537373631666265623030663933333832366432656139653966373733333566313032313030643332623563323334646262353964666631653235663161303937626562633731376135643161333266653566646636343631346134376438313936373362633735623139663236633837313432303564616438323238386330396234633538653830316266633465373132303766663030383637616164633439373765386134373863323034633736343763323364313437386365383937353037306434356166313632346132623039663464666539373438336334356666623263353130386364636235663633316266306261613363633337653533306435316536636130386537366162633333323937376237363934313766663761623536383531616230623838346238373133386162383639633538613638363131646136, '1');

-- ----------------------------
-- Table structure for peer_channel
-- ----------------------------
DROP TABLE IF EXISTS `peer_channel`;
CREATE TABLE `peer_channel` (
  `ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `PEER_ID` varchar(256) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT '节点值',
  `CHANNEL_ID` char(128) COLLATE utf8_bin NOT NULL COMMENT '通道编号',
  `USER_ID_LIST` text COLLATE utf8_bin NOT NULL COMMENT '该节点所属组织在该通道的的非admin用户ID列表',
  `ADMIN_ID_LIST` text COLLATE utf8_bin NOT NULL COMMENT '节点所属组织在该通道的管理员身份标识',
  `JOIN_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '取本地确认该节点加入的时刻点',
  `EXTENDED_DATA` varchar(2048) COLLATE utf8_bin DEFAULT NULL COMMENT '节点与通道关联的扩展字段',
  `USER_PRIVATE_KEY` varchar(1000) COLLATE utf8_bin DEFAULT NULL COMMENT 'SM9用户签名私钥，加密后',
  `IN_BLOCK_HEIGHT` bigint(20) NOT NULL DEFAULT '0' COMMENT '节点加入通道时的区块高度',
  `OUT_BLOCK_HEIGHT` bigint(20) NOT NULL DEFAULT '0' COMMENT '节点离开通道时的区块高度',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of peer_channel
-- ----------------------------
INSERT INTO `peer_channel` VALUES ('1', '767501447171407872', '3D14925FE238443FB3192BC0DBE23D33', '', '', '2020-10-19 09:09:37', '0', '', '0', '0');

-- ----------------------------
-- Table structure for peer_user
-- ----------------------------
DROP TABLE IF EXISTS `peer_user`;
CREATE TABLE `peer_user` (
  `ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `USER_ACCOUNT` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '用户账号，用于标记是否存在此用户',
  `PEER_ID` varchar(256) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT '节点值',
  `EXTENDED_PROPS` varchar(1024) COLLATE utf8_bin DEFAULT NULL COMMENT '扩展属性',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of peer_user
-- ----------------------------

-- ----------------------------
-- Table structure for persist_task
-- ----------------------------
DROP TABLE IF EXISTS `persist_task`;
CREATE TABLE `persist_task` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `TASK_ID` char(128) COLLATE utf8_bin NOT NULL COMMENT '使用UUID去除分隔符生成，固定32个字符；使用UUID保证全局唯一',
  `CREATE_TIME` bigint(20) DEFAULT NULL COMMENT '创建时间',
  `EXECUTE_END_TIME` bigint(20) DEFAULT NULL COMMENT '执行结束时间',
  `PARAMAS_STR` text COLLATE utf8_bin COMMENT '参数',
  `TYPE` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '任务类型',
  `STATUS` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '任务状态',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of persist_task
-- ----------------------------

-- ----------------------------
-- Table structure for role
-- ----------------------------
DROP TABLE IF EXISTS `role`;
CREATE TABLE `role` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `ROLE_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '索引',
  `NAME` varchar(256) COLLATE utf8_bin NOT NULL COMMENT '名称',
  `SHORT_NAME` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '英文名称，不可以重复，不可更改',
  `AUTH_ID` varchar(1000) COLLATE utf8_bin DEFAULT NULL COMMENT '多个权限id，以逗号（“,”)分割',
  `MEMBER_ADD_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员加入该角色的控制策略',
  `ROLE_FLAG` int(2) NOT NULL COMMENT '类型,1：预定义角色，2：自定义角色；预定义角色不可以更改',
  `CHANNEL_ID` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '通道编号，预定义角色为空',
  `EXTENDED_DATA` text COLLATE utf8_bin COMMENT '扩展属性',
  `REMARK` varchar(1024) COLLATE utf8_bin DEFAULT NULL COMMENT '备注，说明',
  `CREATE_TIME` timestamp NULL DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '修改时间',
  `MEMBER_DEL_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员移除该角色的控制策略',
  `STATE` int(2) DEFAULT NULL COMMENT '状态(1正常 ;2业务删除)',
  PRIMARY KEY (`ID`) USING BTREE,
  UNIQUE KEY `ROLE_ID` (`ROLE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of role
-- ----------------------------
INSERT INTO `role` VALUES ('1', 'DEE826D175964131B7362E2DD99BB058', '组织', 'organization', '10,9,13,15,17', '\"MANAGER_AGREE\"', '1', '', null, '代表现实世界中的组织，组织的最核心的特点是可以颁发子证书，也即创建新的成员。', '2020-07-08 15:45:44', '2020-07-16 18:34:36', '\"PARENT_AGREE\"', '1');
INSERT INTO `role` VALUES ('2', 'D956376A79E4425B9DDE1D18B142D2C2', '应用', 'application', '1,2,3,7', '\"MANAGER_AGREE\"', '1', '', null, '应用代表使用区块链服务的一个其他业务应用，应用不可颁发子证书。', '2020-07-08 15:45:44', '2020-07-16 18:34:36', '\"PARENT_AGREE\"', '1');
INSERT INTO `role` VALUES ('3', 'A6F120875E2843D49D63806C4A1A8146', '管理员', 'admin', '10,9,13,15,17', '\"MANAGER_AGREE\"', '1', '', null, '拥有通道中组织的全部权限，同时作为治理策略的一个角色来控制策略，一个组织创建通道后，系统自动添加该组织为通道管理员角色。', '2020-10-18 10:36:11', '2020-10-18 10:36:20', '\"PARENT_AGREE\"', '1');
INSERT INTO `role` VALUES ('4', 'E6620884872F4F0298E08385975CE39F', '节点', 'peer', '11', '\"MANAGER_AGREE\"', '1', '', null, '完成交易和共识', '2020-10-18 10:42:40', '2020-10-18 10:42:45', '\"PARENT_AGREE\"', '1');
INSERT INTO `role` VALUES ('5', 'EE2DE129F32B4A5E8E94321E457AA79A', '运维监控', 'maintenance', '4,5,6,7,12,14,16,8', '\"MANAGER_AGREE\"', '1', '', null, '采集通道、节点运行的各个数据产生告警、图表等', '2020-10-18 10:47:42', '2020-10-18 10:47:46', '\"PARENT_AGREE\"', '1');

-- ----------------------------
-- Table structure for smart_contract
-- ----------------------------
DROP TABLE IF EXISTS `smart_contract`;
CREATE TABLE `smart_contract` (
  `SC_NAME` varchar(256) COLLATE utf8_bin NOT NULL COMMENT '编码',
  `SC_VERSION` varchar(45) COLLATE utf8_bin NOT NULL COMMENT '版本号',
  `SC_CHANNEL_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '通道编号',
  `SC_SOURCE_CODE` longtext COLLATE utf8_bin NOT NULL COMMENT '智能合约的源码内容',
  `SC_CLASS_FILE` longtext COLLATE utf8_bin COMMENT '智能合约的class文件的字节数组',
  `SC_CLASS_HASH` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'class文件的哈希值',
  `SETUP_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `FLAG` varchar(2) COLLATE utf8_bin NOT NULL DEFAULT '1' COMMENT '状态，1正常；2冻结；3销毁',
  `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '修改时间',
  `EXTENDED_DATA` varchar(4096) COLLATE utf8_bin DEFAULT NULL COMMENT '扩展属性',
  `ALISA` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '别名',
  PRIMARY KEY (`SC_NAME`,`SC_VERSION`,`SC_CHANNEL_ID`) USING BTREE,
  UNIQUE KEY `NAME` (`SC_NAME`,`SC_VERSION`) USING BTREE,
  UNIQUE KEY `ALISA` (`ALISA`,`SC_VERSION`,`SC_CHANNEL_ID`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of smart_contract
-- ----------------------------
INSERT INTO `smart_contract` VALUES ('com.jinninghui.newspiral.ledger.mgr.TLCALLBusinessSCTest3D14925FE238443FB3192BC0DBE23D33', '1_0', '3D14925FE238443FB3192BC0DBE23D33', 0x6347466A6132466E5A53426A62323075616D6C75626D6C755A326831615335755A58647A63476C79595777756247566B5A3256794C6D316E636A734E4367304B6157317762334A3049474E7662533571615735756157356E614856704C6D356C64334E7761584A686243356A62323174623234755A573530615852354C6D4E7662573176626935736232647462325231624755755447396E5457396B6457786C5132396B5A584D374451707062584276636E5167593239744C6D7070626D3570626D646F64576B75626D563363334270636D46734C6D4E76625731766269356C626E527064486B755A58686A5A584230615739754C6B356C64314E7761584A6862455679636D3979525735316254734E436D6C74634739796443426A62323075616D6C75626D6C755A326831615335755A58647A63476C795957777559323974625739754C6D567564476C306553356C65474E6C6348527062323475546D563363334270636D46735258686A5A584230615739754F77304B6157317762334A3049474E7662533571615735756157356E614856704C6D356C64334E7761584A686243356A62323174623234755A573530615852354C6E4E7459584A305932397564484A685933517555323168636E524462323530636D466A6444734E436D6C74634739796443426A62323075616D6C75626D6C755A326831615335755A58647A63476C795957777559323974625739754C6D567564476C306553357A644746305A53355862334A735A464E305958526C556D567A6344734E436D6C746347397964434276636D63756332786D4E476F755447396E5A3256794F77304B6157317762334A30494739795A79357A624759306169354D6232646E5A584A4759574E3062334A354F77304B6157317762334A30494739795A79357A63484A70626D646D636D46745A586476636D7375645852706243355464484A70626D645664476C73637A734E4367304B6157317762334A3049477068646D4575645852706243354D61584E304F77304B44516F764B696F4E43694171494542325A584A7A61573975494659784C6A414E4369417149454255615852735A546F67564578445155784D516E567A6157356C63334E545131526C6333514E436941714945425159574E725957646C49474E7662533571615735756157356E614856704C6D356C64334E7761584A68624335735A57526E5A5849756257647944516F674B6942415247567A59334A70634852706232343644516F674B69424159585630614739794F6942346458687444516F674B6942415A4746305A546F674D6A41794D4338304C7A4978494445774F6A553044516F674B69384E436E4231596D78705979426A6247467A6379425554454E425445784364584E70626D567A63314E445647567A6443426C6548526C626D527A49464E7459584A305132397564484A685933524359584E6C4948734E4367304B494341674948427961585A68644755676333526864476C6A49475A70626D4673494578765A32646C63694273623263675053424D6232646E5A584A4759574E3062334A354C6D646C644578765A32646C6369685554454E425445784364584E70626D567A63314E445647567A6443356A6247467A63796B3744516F67494341676348566962476C6A49464E30636D6C755A79426964584E70626D567A633146315A584A3555304D6F553352796157356E49484E305958526C533256354B53423744516F67494341674943416749464E30636D6C755A794232595778315A564E3063694139494349694F77304B49434167494341674943425465584E305A573075623356304C6E4279615735306247346F496930744C5330744C53307459324673624330744C5330744C5330744C574A3163326C755A584E7A5558566C636E6C54517930744C5330744C53307449696B3744516F67494341674943416749474A356447566258534232595778315A5341394948526F61584D7563323168636E524462323530636D466A6445316E6369356E5A585254644746305A53687A644746305A55746C65536B3744516F4E43694167494341674943416764484A354948734E4369416749434167494341674943416749485A686248566C5533527949443067626D563349464E30636D6C755A796832595778315A537767496C56555269303449696B3744516F6749434167494341674948306759324630593267674B4556345932567764476C7662694232595849314B53423744516F674943416749434167494341674943425465584E305A573075623356304C6E4279615735306247346F497553346C7565566A4F654B7475614167585A686248566C364C327335597957365A535A364B2B7649696B3744516F6749434167494341674948304E4367304B49434167494341674943425465584E305A573075623356304C6E4279615735306247346F497553346D75574B6F655751694F65367075533472656166706569766F75654B7475614167546F6949437367633352686447564C5A586B674B7941694C4F572B6C2B574973466476636D786B55335268644755364969417249485A686248566C553352794B54734E436941674943416749434167636D563064584A7549485A686248566C553352794F77304B494341674948304E4367304B4943416749484231596D78705979423262326C6B49474A3163326C755A584E7A56334A70644756545179685464484A70626D6367633352686447564C5A586B7349464E30636D6C755A79427A644746305A565A686248566C4B53423744516F67494341674943416749464E356333526C625335766458517563484A70626E5273626967694C5330744C5330744C53316A595778734C5330744C5330744C533074596E567A6157356C63334E58636D6C305A564E444C5330744C5330744C5330694B54734E4369416749434167494341676157596F535735305A57646C6369357759584A7A5A556C756443687A644746305A565A686248566C4B5477774B51304B49434167494341674943423744516F6749434167494341674943416749434273623263755A584A796233496F496B31505246564D525430694B79424D6232644E62325231624756446232526C6379355457564E555255316656564E46556C39425131524A54303472496978725A586B3665333073646D467364575536653330694C484E305958526C533256354C484E305958526C566D4673645755704F77304B494341674943416749434167494341676447687962336367626D56334945356C64334E7761584A68624556345932567764476C766269684F5A58645463476C7959577846636E4A76636B567564573075535535575155784A5246395151564A42545377674975693070756163724F57476D655746706557516A75693070756163724F53346A65694476655334757569306E2B5741764349704F77304B49434167494341674943423944516F6749434167494341674948526F61584D7563323168636E524462323530636D466A6445316E6369357764585254644746305A53687A644746305A55746C655377676333526864475657595778315A53356E5A5852436558526C637967704B54734E436941674943423944516F4E436941674943427764574A7361574D67646D39705A43426964584E70626D567A633164796158526C55304E516248567A4B464E30636D6C755A79427A644746305A55746C65537767553352796157356E49484E305958526C566D4673645755704948734E43694167494341674943416755336C7A644756744C6D393164433577636D6C75644778754B4349744C5330744C5330744C574E68624777744C5330744C5330744C53316964584E70626D567A633164796158526C55304E516248567A4C5330744C5330744C5330694B54734E4369416749434167494341676157353049474A6C5A6D39795A565A686248566C49443067535735305A57646C6369357759584A7A5A556C756443683061476C7A4C6D4A3163326C755A584E7A5558566C636E6C545179687A644746305A55746C65536B704F77304B494341674943416749434270626E516759575A305A584A57595778315A53413949474A6C5A6D39795A565A686248566C49437367535735305A57646C6369357759584A7A5A556C756443687A644746305A565A686248566C4B54734E4369416749434167494341676157596F59575A305A584A57595778315A5477774B51304B49434167494341674943423744516F6749434167494341674943416749434273623263755A584A796233496F496B31505246564D525430694B79424D6232644E62325231624756446232526C6379355457564E555255316656564E46556C39425131524A54303472496978725A586B3665333073646D467364575536653330694C484E305958526C533256354C484E305958526C566D4673645755704F77304B494341674943416749434167494341676447687962336367626D56334945356C64334E7761584A68624556345932567764476C766269684F5A58645463476C7959577846636E4A76636B567564573075535535575155784A5246395151564A42545377674975693070756163724F6157734F574B6F4F57516A75693070756163724F53346A65694476655334757569306E2B5741764349704F77304B49434167494341674943423944516F6749434167494341674948526F61584D7563323168636E524462323530636D466A6445316E6369357764585254644746305A53687A644746305A55746C65537767535735305A57646C6369353062314E30636D6C755A7968685A6E526C636C5A686248566C4B53356E5A5852436558526C637967704B54734E436941674943423944516F4E436941674943427764574A7361574D67646D39705A43426964584E70626D567A633164796158526C55304E4E615735316379685464484A70626D6367633352686447564C5A586B7349464E30636D6C755A79427A644746305A565A686248566C4B53423744516F67494341674943416749464E356333526C625335766458517563484A70626E5273626967694C5330744C5330744C53316A595778734C5330744C5330744C533074596E567A6157356C63334E58636D6C305A564E4454576C7564584D744C5330744C5330744C5349704F77304B494341674943416749434270626E5167596D566D62334A6C566D4673645755675053424A626E526C5A3256794C6E4268636E4E6C535735304B48526F61584D75596E567A6157356C63334E526457567965564E444B484E305958526C533256354B536B3744516F67494341674943416749476C75644342685A6E526C636C5A686248566C49443067596D566D62334A6C566D4673645755674C53424A626E526C5A3256794C6E4268636E4E6C535735304B484E305958526C566D4673645755704F77304B4943416749434167494342705A6968685A6E526C636C5A686248566C5044417044516F6749434167494341674948734E43694167494341674943416749434167494778765A79356C636E4A7663696769545539455655784650534972494578765A3031765A4856735A554E765A47567A4C6C4E5A5531524654563956553056535830464456456C50546973694C47746C6554703766537832595778315A54703766534973633352686447564C5A586B736333526864475657595778315A536B3744516F674943416749434167494341674943423061484A76647942755A586367546D563363334270636D46735258686A5A584230615739754B45356C64314E7761584A6862455679636D3979525735316253354A546C5A4254456C4558314242556B464E4C434169364C536D35707973356F6D6A35596550355A434F364C536D35707973354C694E36494F39354C6936364C53663559433849696B3744516F6749434167494341674948304E436941674943416749434167644768706379357A6257467964454E76626E527959574E30545764794C6E423164464E305958526C4B484E305958526C533256354C43424A626E526C5A3256794C6E5276553352796157356E4B47466D64475679566D4673645755704C6D646C64454A356447567A4B436B704F77304B494341674948304E4367304B4943416749484231596D78705979423262326C6B49474A3163326C755A584E7A56334A7064475654513152795957357A5A6D56794B464E30636D6C755A79427A644746305A55746C65555A796232307349464E30636D6C755A79427A644746305A55746C655652764C43425464484A70626D63676333526864475657595778315A536B676577304B49434167494341674943425465584E305A573075623356304C6E4279615735306247346F496930744C5330744C53307459324673624330744C5330744C5330744C574A3163326C755A584E7A56334A7064475654513152795957357A5A6D56794C5330744C5330744C5330694B54734E4369416749434167494341676157353049474A6C5A6D39795A565A686248566C526E4A766253413949456C756447566E5A584975634746796332564A626E516F644768706379356964584E70626D567A633146315A584A3555304D6F633352686447564C5A586C47636D39744B536B3744516F67494341674943416749476C75644342695A575A76636D5657595778315A56527649443067535735305A57646C6369357759584A7A5A556C756443683061476C7A4C6D4A3163326C755A584E7A5558566C636E6C545179687A644746305A55746C655652764B536B3744516F67494341674943416749476C75644342685A6E526C636C5A686248566C526E4A766253413949474A6C5A6D39795A565A686248566C526E4A766253417449456C756447566E5A584975634746796332564A626E516F6333526864475657595778315A536B3744516F67494341674943416749476C75644342685A6E526C636C5A686248566C56473867505342695A575A76636D5657595778315A56527649437367535735305A57646C6369357759584A7A5A556C756443687A644746305A565A686248566C4B54734E4369416749434167494341676157596F59575A305A584A57595778315A555A79623230384D48783859575A305A584A57595778315A5652765044417044516F6749434167494341674948734E4369416749434167494341674943416749464E356333526C625335766458517563484A70626E527362696769545539455655784650534972494578765A3031765A4856735A554E765A47567A4C6C4E5A5531524654563956553056535830464456456C50546973694C48567A5A58496759574E306157397549485A706232786864476C76626E4D734947746C655445364969747A644746305A55746C65555A7962323072496978725A586B794F694972633352686447564C5A586C5562796B3744516F6749434167494341674943416749434273623263755A584A796233496F496B31505246564D525430694B79424D6232644E62325231624756446232526C6379355457564E555255316656564E46556C39425131524A5430347249697831633256794947466A64476C766269423261573973595852706232357A4C4342725A586B784F6E74394C47746C65544936653330694C484E305958526C53325635526E4A766253787A644746305A55746C655652764B54734E436941674943416749434167494341674948526F636D39334947356C6479424F5A58647A63476C795957784665474E6C634852706232346F546D563355334270636D467352584A7962334A46626E56744C6B6C4F566B464D53555266554546535155307349434C6F76617A6F744B626C6B49376F744B626D6E4B7A6B7549336F6737336B754C726F744A2F6C674C77694B54734E4369416749434167494341676651304B49434167494341674943423061476C7A4C6E4E7459584A305132397564484A685933524E5A33497563485630553352686447556F633352686447564C5A586C47636D39744C43424A626E526C5A3256794C6E5276553352796157356E4B47466D64475679566D467364575647636D39744B53356E5A5852436558526C637967704B54734E436941674943416749434167644768706379357A6257467964454E76626E527959574E30545764794C6E423164464E305958526C4B484E305958526C533256355647387349456C756447566E5A5849756447395464484A70626D636F59575A305A584A57595778315A5652764B53356E5A5852436558526C637967704B54734E436941674943423944516F4E436941674943427764574A7361574D6755323168636E524462323530636D466A6443426E5A5852546257467964454E76626E52685933516F553352796157356E49484E6A546D46745A537767553352796157356E49484E6A566D567963326C7662697767553352796157356E49484E6A51326868626D356C62456C6B4B51304B494341674948734E436941674943416749434167636D563064584A7549484E7459584A305132397564484A685933524E5A3349755A32563055323168636E52446232353059574E304B484E6A546D46745A53787A59315A6C636E4E706232347363324E4461474675626D5673535751704F77304B494341674948304E4367304B4943416749484231596D78705979424D61584E3050466476636D786B55335268644756535A584E77506942786457567965564E305958526C63304A3556476C745A564A6C5A326C766269685464484A70626D636763335268636E52556157316C4C43425464484A70626D63675A57356B56476C745A536B4E436941674943423744516F67494341674943416749433876357143683661714D354C6941354C694C35706532365A653035592B433570577744516F67494341674943416749476C6D4B464E30636D6C755A3156306157787A4C6D6C7A5257317764486B6F63335268636E52556157316C4B587838553352796157356E5658527062484D7561584E46625842306553686C626D52556157316C4B536B4E4369416749434167494341676577304B494341674943416749434167494341676447687962336367626D56334945356C64334E7761584A68624556345932567764476C766269684F5A58645463476C7959577846636E4A76636B567564573075535535575155784A5246395151564A425453776749755738674F576E692B615874756D58744F61496C756941686565376B2B61646E2B615874756D58744F53346A6569447665533475756570756949704F77304B49434167494341674943423944516F67494341674943416749476C6D4B484E3059584A3056476C745A53356A6232317759584A6C5647386F5A57356B56476C745A536B2B4D436B4E4369416749434167494341676577304B494341674943416749434167494341676447687962336367626D56334945356C64334E7761584A68624556345932567764476C766269684F5A58645463476C7959577846636E4A76636B567564573075535535575155784A5246395151564A425453776749755738674F576E692B615874756D58744F576B702B53366A7565376B2B61646E2B615874756D58744349704F77304B49434167494341674943423944516F67494341674943416749484A6C644856796269427A6257467964454E76626E527959574E30545764794C6E46315A584A35553352686447567A516E6C556157316C556D566E615739754B484E3059584A3056476C745A53786C626D52556157316C4B54734E43694167494342394451703944516F3D, 0x79763636766741414144514175416F414E4142524341425343514254414651494146554B4146594156776B414D6742594377425A41466F48414673494146774B4141674158516341586767415877634159416F4144514252434142684367414E4147494941474D4B414130415A4167415A516F415A67426E435141794147674941476B4A41476F4161776F41445142734341427443774275414738484148414A414845416367674163776F4147774230436741494148554C41466B416467674164776F414D674234434142354367426D41486F494148734941487749414830494148344941483849414941494149454C41466B4167676F41677743454341434643674149414959494149634C41466B416941634169516F416967434C4277434D415141446247396E41514153544739795A79397A624759306169394D6232646E5A5849374151414750476C756158512B415141444B436C57415141455132396B5A51454144307870626D564F645731695A584A5559574A735A51454144324A3163326C755A584E7A5558566C636E6C54517745414A69684D616D4632595339735957356E4C314E30636D6C755A7A737054477068646D4576624746755A79395464484A70626D63374151414E553352685932744E5958425559574A735A51634169516341577763416A5163415867454144324A3163326C755A584E7A56334A7064475654517745414A79684D616D4632595339735957356E4C314E30636D6C755A7A744D616D4632595339735957356E4C314E30636D6C755A7A73705667454145324A3163326C755A584E7A56334A70644756545131427364584D424142526964584E70626D567A633164796158526C55304E4E615735316377454146324A3163326C755A584E7A56334A7064475654513152795957357A5A6D5679415141354B45787159585A684C327868626D6376553352796157356E4F30787159585A684C327868626D6376553352796157356E4F30787159585A684C327868626D6376553352796157356E4F796C57415141505A32563055323168636E52446232353059574E30415142384B45787159585A684C327868626D6376553352796157356E4F30787159585A684C327868626D6376553352796157356E4F30787159585A684C327868626D6376553352796157356E4F796C4D593239744C327070626D3570626D646F64576B76626D563363334270636D46734C324E76625731766269396C626E527064486B7663323168636E526A62323530636D466A644339546257467964454E76626E527959574E304F774541463346315A584A35553352686447567A516E6C556157316C556D566E61573975415141324B45787159585A684C327868626D6376553352796157356E4F30787159585A684C327868626D6376553352796157356E4F796C4D616D46325953393164476C734C307870633351374151414A55326C6E626D463064584A6C415142314B45787159585A684C327868626D6376553352796157356E4F30787159585A684C327868626D6376553352796157356E4F796C4D616D46325953393164476C734C3078706333513854474E7662533971615735756157356E614856704C32356C64334E7761584A686243396A62323174623234765A573530615852354C334E305958526C4C316476636D786B55335268644756535A584E774F7A34374151414950474E7361573570644434424141705462335679593256476157786C41514135564578445155784D516E567A6157356C63334E545131526C6333517A524445304F544931526B55794D7A67304E444E47516A4D784F544A43517A4245516B55794D30517A4D79357159585A684441413341446742414141484149344D414938416B4145414C4330744C5330744C53307459324673624330744C5330744C5330744C574A3163326C755A584E7A5558566C636E6C54517930744C5330744C5330744277435244414353414A4D4D414A51416C5163416C6777416C77435941514151616D4632595339735957356E4C314E30636D6C755A774541425656555269303444414133414A6B4241424E7159585A684C327868626D63765258686A5A5842306157397541514164354C69573535574D35347132356F4342646D46736457586F76617A6C6A4A62706C4A6E6F723638424142647159585A684C327868626D6376553352796157356E516E56706247526C63674541484F53346D75574B6F655751694F65367075533472656166706569766F75654B7475614167546F4D414A6F416D77454145697A6C7670666C694C425862334A735A464E305958526C4F6777416E414364415141734C5330744C5330744C53316A595778734C5330744C5330744C533074596E567A6157356C63334E58636D6C305A564E444C5330744C5330744C533048414A344D414A38416F4177414E514132415141485455394556557846505163416F5177416F67436A44414361414B514241424173613256354F6E74394C485A686248566C4F6E74394277436C4441436D414B634241454E6A62323076616D6C75626D6C755A326831615339755A58647A63476C795957777659323974625739754C32567564476C306553396C65474E6C6348527062323476546D563363334270636D46735258686A5A584230615739754277436F44414370414B6F424143546F744B626D6E4B7A6C68706E6C6861586C6B49376F744B626D6E4B7A6B7549336F6737336B754C726F744A2F6C674C774D41446341717777417241437444414375414B3842414441744C5330744C5330744C574E68624777744C5330744C5330744C53316964584E70626D567A633164796158526C55304E516248567A4C5330744C5330744C53304D41447341504145414A4F693070756163724F6157734F574B6F4F57516A75693070756163724F53346A65694476655334757569306E2B5741764177416E414377415141784C5330744C5330744C53316A595778734C5330744C5330744C533074596E567A6157356C63334E58636D6C305A564E4454576C7564584D744C5330744C5330744C5145414A4F693070756163724F614A6F2B57486A2B57516A75693070756163724F53346A65694476655334757569306E2B5741764145414E4330744C5330744C53307459324673624330744C5330744C5330744C574A3163326C755A584E7A56334A7064475654513152795957357A5A6D56794C5330744C5330744C5330424142347364584E6C636942685933527062323467646D6C76624746306157397563797767613256354D546F4241415973613256354D6A6F424143677364584E6C636942685933527062323467646D6C76624746306157397563797767613256354D547037665378725A586B794F6E743941514165364C3273364C536D355A434F364C536D35707973354C694E36494F39354C6936364C5366355943384441424941456B48414C454D414C4941737745414B755738674F576E692B615874756D58744F61496C756941686565376B2B61646E2B615874756D58744F53346A6569447665533475756570756777417441436741514165356279413561654C35706532365A65303561536E354C714F353775543570326635706532365A65304441424B414573424146686A62323076616D6C75626D6C755A326831615339755A58647A63476C79595777766247566B5A3256794C32316E6369395554454E425445784364584E70626D567A63314E445647567A64444E454D5451354D6A56475254497A4F4451304D305A434D7A45354D6B4A444D4552435254497A52444D7A4277433144414332414C63424144566A62323076616D6C75626D6C755A326831615339755A58647A63476C79595777766247566B5A3256794C32316E636939546257467964454E76626E527959574E30516D467A5A514541416C744341514151616D4632595339735957356E4C314E356333526C6251454141323931644145414655787159585A684C326C764C31427961573530553352795A5746744F77454145327068646D45766157387655484A70626E525464484A6C5957304241416477636D6C7564477875415141564B45787159585A684C327868626D6376553352796157356E4F796C574151415163323168636E524462323530636D466A6445316E636745414E6B786A62323076616D6C75626D6C755A326831615339755A58647A63476C79595777766247566B5A3256794C32316E636939546257467964454E76626E527959574E30545764794F7745414E474E7662533971615735756157356E614856704C32356C64334E7761584A68624339735A57526E5A584976625764794C314E7459584A305132397564484A685933524E5A3349424141686E5A585254644746305A5145414669684D616D4632595339735957356E4C314E30636D6C755A7A7370573049424142636F57304A4D616D4632595339735957356E4C314E30636D6C755A7A737056674541426D4677634756755A4145414C53684D616D4632595339735957356E4C314E30636D6C755A7A737054477068646D4576624746755A79395464484A70626D644364576C735A4756794F77454143485276553352796157356E415141554B436C4D616D4632595339735957356E4C314E30636D6C755A7A73424142467159585A684C327868626D6376535735305A57646C6367454143484268636E4E6C53573530415141564B45787159585A684C327868626D6376553352796157356E4F796C4A41514247593239744C327070626D3570626D646F64576B76626D563363334270636D46734C324E76625731766269396C626E527064486B7659323974625739754C3278765A3231765A4856735A53394D6232644E62325231624756446232526C63774541456C4E5A5531524654563956553056535830464456456C50546745415345786A62323076616D6C75626D6C755A326831615339755A58647A63476C795957777659323974625739754C32567564476C306553396A62323174623234766247396E6257396B6457786C4C3078765A3031765A4856735A554E765A47567A4F7745414C53684D616D4632595339735957356E4C303969616D566A6444737054477068646D4576624746755A79395464484A70626D644364576C735A4756794F774541454739795A79397A624759306169394D6232646E5A5849424141566C636E4A76636745414F53684D616D4632595339735957356E4C314E30636D6C755A7A744D616D4632595339735957356E4C303969616D566A6444744D616D4632595339735957356E4C303969616D566A644473705667454151324E7662533971615735756157356E614856704C32356C64334E7761584A686243396A62323174623234765A573530615852354C3256345932567764476C766269394F5A58645463476C7959577846636E4A76636B5675645730424141314A546C5A4254456C4558314242556B464E4151424654474E7662533971615735756157356E614856704C32356C64334E7761584A686243396A62323174623234765A573530615852354C3256345932567764476C766269394F5A58645463476C7959577846636E4A76636B567564573037415142614B45786A62323076616D6C75626D6C755A326831615339755A58647A63476C795957777659323974625739754C32567564476C306553396C65474E6C6348527062323476546D563355334270636D467352584A7962334A46626E56744F30787159585A684C327868626D6376553352796157356E4F796C57415141495A325630516E6C305A584D424141516F4B567443415141496348563055335268644755424142636F54477068646D4576624746755A79395464484A70626D633757304970566745414653684A4B55787159585A684C327868626D6376553352796157356E4F7745414A4739795A79397A63484A70626D646D636D46745A586476636D7376645852706243395464484A70626D645664476C736377454142326C7A5257317764486B424142556F54477068646D4576624746755A793950596D706C593351374B566F4241416C6A6232317759584A6C5647384241426476636D63766332786D4E476F765447396E5A325679526D466A64473979655145414357646C644578765A32646C636745414A53684D616D4632595339735957356E4C304E7359584E7A4F796C4D62334A6E4C334E735A6A52714C3078765A32646C636A734149514179414451414141414241426F414E5141324141414143514142414463414F41414241446B41414141644141454141514141414155717477414273514141414145414F6741414141594141514141414259414151413741447741415141354141414173514145414155414141425345674A4E736741444567533241415571744141474B376B41427749415472734143466B7445676D334141704E7077414E4F67537941414D53444C5941426249414137734144566D334141345344375941454375324142415345625941454379324142433241424B324141557373414142414259414951416B4141734141674136414141414A67414A414141414767414441427341437741634142594148774168414349414A4141674143594149514175414351415541416C414430414141415A41414C2F4143514142416341506763415077634150776341514141424277424243514142414549415177414241446B4141414347414151414177414141452B7941414D5345375941425379344142536341445379414257374141315A7477414F4568613241424379414265324142675347625941454C59414569737375514161424143374142745A73674163456832334142362F4B7251414269737374674166755141674177437841414141416741364141414147674147414141414B51414941436F414477417341444D414C5142414143384154674177414430414141414641414837414541414151424541454D4141514135414141416F77414541415541414142697367414445694732414155714B37594149726741464434644C4C674146474132424255456E414130736741567577414E576263414468495774674151736741587467415945686D3241424332414249724C4C6B414767514175774162576249414842496A747741657679713041415972465153344143533241422B3541434144414C45414141414341446F4141414169414167414141417A414167414E4141524144554147514132414234414F41424341446B4154774137414745415041413941414141427741422F514250415145414151424641454D4141514135414141416F77414541415541414142697367414445695732414155714B37594149726741464434644C4C674146475132424255456E414130736741567577414E576263414468495774674151736741587467415945686D3241424332414249724C4C6B414767514175774162576249414842496D747741657679713041415972465153344143533241422B3541434144414C45414141414341446F4141414169414167414141412F4141674151414152414545414751424341423441524142434145554154774248414745415341413941414141427741422F51425041514541415142474145634141514135414141424951414541416741414143377367414445696532414155714B37594149726741464459454B69793241434B3441425132425255454C62674146475132426855464C62674146474132427855476D774149465165634147477941414F374141315A7477414F456861324142437941426532414267534B4C594145437532414241534B625941454379324142433241424B3241415779414257374141315A7477414F456861324142437941426532414267534B725941454C59414569737375514161424143374142745A73674163456975334142362F4B72514142697356427267414A4C594148376B4149414D414B72514142697756423767414A4C594148376B4149414D4173514141414149414F6741414144494144414141414573414341424D4142494154514163414534414A5142504143344155414134414649415A51425441496B41564143574146594171414258414C6F415741413941414141484141432F77413441416748414434484144384841443848414438424151454241414437414630414151424941456B4141514135414141414A514145414151414141414E4B725141426973734C626B414C41514173414141414145414F6741414141594141514141414677414151424B4145734141674135414141416277414541414D41414141384B3767414C5A6F41436979344143325A414243374142745A73674163456936334142362F4B79793241432B65414243374142745A73674163456A43334142362F4B72514142697373755141784177437741414141416741364141414146674146414141415967414F414751414777426D41434D416141417741476F4150514141414155414177344D4641424D414141414167424E4141674154674134414145414F514141414345414151414141414141435249797541417A7377415673514141414145414F674141414159414151414141426741415142504141414141674251, '523BF39E6399349A37048D21AE901063036B9BB46CDE66C7569B95442F518E8F', '2020-10-19 11:45:34', '1', null, '{\"key\":\"value1\"}', '合约1');

-- ----------------------------
-- Table structure for smart_contract_authorized
-- ----------------------------
DROP TABLE IF EXISTS `smart_contract_authorized`;
CREATE TABLE `smart_contract_authorized` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `SC_NAME` varchar(256) COLLATE utf8_bin NOT NULL COMMENT '编码',
  `SC_VERSION` varchar(45) COLLATE utf8_bin NOT NULL COMMENT '版本号',
  `PUBLIC_KEY` varchar(300) COLLATE utf8_bin DEFAULT NULL COMMENT '数字证书的公钥，长度与具体采用的非对称加解密算法相关',
  `ROLE_ID` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '角色ID',
  `CHANNEL_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '通道编号，冗余字段，查询使用',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of smart_contract_authorized
-- ----------------------------
INSERT INTO `smart_contract_authorized` VALUES ('1', 'com.jinninghui.newspiral.ledger.mgr.TLCALLBusinessSCTest3D14925FE238443FB3192BC0DBE23D33', '1_0', 'MFkwEwYHKoZIzj0CAQYIKoEcz1UBgi0DQgAEcJr63D6rgIZ2eVSS9dExzjQt/zROihkYDGoJdWsU0HZcsV6jpkKzJIGsNj9m3JA900SRaZTyD6gDujwXoj8FOA==', 'D956376A79E4425B9DDE1D18B142D2C2', '3D14925FE238443FB3192BC0DBE23D33');

-- ----------------------------
-- Table structure for state
-- ----------------------------
DROP TABLE IF EXISTS `state`;
CREATE TABLE `state` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '自增主键',
  `CHANNEL_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '通道Id',
  `STATE_KEY` varchar(128) COLLATE utf8_bin NOT NULL,
  `STATE_VALUE` longtext COLLATE utf8_bin NOT NULL,
  `PACK_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  PRIMARY KEY (`ID`) USING BTREE,
  UNIQUE KEY `KEY_UNIQUE` (`CHANNEL_ID`,`STATE_KEY`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of state
-- ----------------------------

-- ----------------------------
-- Table structure for time_consuming
-- ----------------------------
DROP TABLE IF EXISTS `time_consuming`;
CREATE TABLE `time_consuming` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `VIEW_NUMBER` bigint(20) NOT NULL,
  `PHASE_ONE` bigint(20) DEFAULT NULL,
  `PHASE_TWO` bigint(20) DEFAULT NULL,
  `PHASE_THREE` bigint(20) DEFAULT NULL,
  `PHASE_FOUR` bigint(20) DEFAULT NULL,
  `TIMEOUT` bigint(20) DEFAULT NULL,
  `RECEIVE_BLOCK` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of time_consuming
-- ----------------------------

-- ----------------------------
-- Table structure for transaction
-- ----------------------------
DROP TABLE IF EXISTS `transaction`;
CREATE TABLE `transaction` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHANNEL_ID` varchar(64) COLLATE utf8_bin NOT NULL COMMENT '通道ID',
  `VERSION` varchar(10) COLLATE utf8_bin NOT NULL COMMENT 'ExecutedTransaction的版本号',
  `POOLED_TRANS` longtext COLLATE utf8_bin,
  `POOLED_TRANS_VERSION` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '冗余字段，便于查询统计',
  `ADD2_POOL_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '冗余字段，便于查询统计',
  `TRANS_HASH_STR` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '交易hash的16进制字符串',
  `SDK_TRANS_VERSION` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '冗余字段，便于查询统计',
  `CLIENT_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '冗余字段，便于查询统计',
  `CLIENT_TRANS_ID` varchar(128) COLLATE utf8_bin NOT NULL,
  `SMART_CONTRACT_ID` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '智能合约ID，含版本号',
  `SMART_CONTRACT_METHOD_NAME` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '所调用的方法名',
  `CLIENT_IDENTITY_KEY` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '调用者身份',
  `MODIFIED_WORLD_STATE_LIST` longtext COLLATE utf8_bin,
  `MODIFIED_CHANNEL_RECORD` longtext COLLATE utf8_bin COMMENT 'Channel的修改记录，只有系统合约调用才会有此值',
  `EXECUTE_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `EXECUTED_MS` bigint(20) DEFAULT NULL COMMENT '执行耗时',
  `BLOCK_HASH_STR` varchar(128) COLLATE utf8_bin NOT NULL,
  `INDEX_IN_BLOCK` int(10) DEFAULT NULL COMMENT '从1开始',
  `SUCCESSED` tinyint(4) DEFAULT NULL,
  `ERROR_MSG` varchar(1024) COLLATE utf8_bin DEFAULT NULL,
  `CREATE_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  PRIMARY KEY (`ID`) USING BTREE,
  KEY `transaction_client_trans_id` (`CLIENT_TRANS_ID`) USING BTREE,
  KEY `transaction_client__identity_key` (`CLIENT_IDENTITY_KEY`) USING BTREE,
  KEY `transaction_trans_hash_str` (`TRANS_HASH_STR`) USING BTREE,
  KEY `transaction_index_in_block` (`INDEX_IN_BLOCK`) USING BTREE,
  KEY `transaction_block_hash_str` (`BLOCK_HASH_STR`,`CHANNEL_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=393 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of transaction
-- ----------------------------

-- ----------------------------
-- Table structure for transaction_cache
-- ----------------------------
DROP TABLE IF EXISTS `transaction_cache`;
CREATE TABLE `transaction_cache` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CHANNEL_ID` varchar(64) COLLATE utf8_bin NOT NULL COMMENT '通道ID',
  `VERSION` varchar(10) COLLATE utf8_bin NOT NULL COMMENT 'ExecutedTransaction的版本号',
  `POOLED_TRANS` longtext COLLATE utf8_bin,
  `POOLED_TRANS_VERSION` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '冗余字段，便于查询统计',
  `ADD2_POOL_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '冗余字段，便于查询统计',
  `TRANS_HASH_STR` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '交易hash的16进制字符串',
  `SDK_TRANS_VERSION` varchar(10) COLLATE utf8_bin DEFAULT NULL COMMENT '冗余字段，便于查询统计',
  `CLIENT_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '冗余字段，便于查询统计',
  `CLIENT_TRANS_ID` varchar(128) COLLATE utf8_bin NOT NULL,
  `SMART_CONTRACT_ID` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '智能合约ID，含版本号',
  `SMART_CONTRACT_METHOD_NAME` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '所调用的方法名',
  `CLIENT_IDENTITY_KEY` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '调用者身份',
  `MODIFIED_WORLD_STATE_LIST` longtext COLLATE utf8_bin,
  `MODIFIED_CHANNEL_RECORD` longtext COLLATE utf8_bin COMMENT 'Channel的修改记录，只有系统合约调用才会有此值',
  `EXECUTE_TIMESTAMP` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `EXECUTED_MS` bigint(20) DEFAULT NULL COMMENT '执行耗时',
  `BLOCK_HASH_STR` varchar(128) COLLATE utf8_bin NOT NULL,
  `INDEX_IN_BLOCK` int(10) DEFAULT NULL COMMENT '从1开始',
  `SUCCESSED` tinyint(4) DEFAULT NULL,
  `ERROR_MSG` varchar(1024) COLLATE utf8_bin DEFAULT NULL,
  `CREATE_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3),
  PRIMARY KEY (`ID`) USING BTREE,
  KEY `transaction_client_trans_id` (`CLIENT_TRANS_ID`) USING BTREE,
  KEY `transaction_client__identity_key` (`CLIENT_IDENTITY_KEY`) USING BTREE,
  KEY `transaction_trans_hash_str` (`TRANS_HASH_STR`) USING BTREE,
  KEY `transaction_index_in_block` (`INDEX_IN_BLOCK`) USING BTREE,
  KEY `transaction_block_hash_str` (`BLOCK_HASH_STR`,`CHANNEL_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- ----------------------------
-- Records of transaction_cache
-- ----------------------------

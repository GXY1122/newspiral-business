ALTER TABLE channel ADD MAX_TRANSACTION_COUNT bigint(20) COMMENT '最多交易笔量';
ALTER TABLE channel ADD SM9_PUBLICK_KEY varchar(50) COMMENT 'SM9公钥KEY';
--
alter  table channel change SM9_PUBLICK_KEY MASTER_PUBLICK_KEY varchar(1000) COMMENT 'SM9签名主公钥，加密后';
ALTER TABLE peer_channel ADD USER_PRIVATE_KEY varchar(1000) COMMENT 'SM9用户签名私钥，加密后';


-- 新增节点用户表
DROP TABLE IF EXISTS `peer_user`;
CREATE TABLE `peer_user`  (
  `ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `USER_ACCOUNT` varchar(128) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '用户账号，用于标记是否存在此用户',
  `PEER_ID` varchar(256) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT '节点值',
  `EXTENDED_PROPS` varchar(1024) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '扩展属性',
  `CREATE_TIME` timestamp DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_bin ROW_FORMAT = Dynamic;


-- 20190101 新增证书相关属性
ALTER TABLE peer ADD `CERTIFICATE_CER_FILE` longblob COMMENT 'PKI中CA证书文件的字节数组';
ALTER TABLE peer ADD `CERTIFICATE_KEY_STORE_FILE` longblob COMMENT 'PKI本地密钥库文件的字节数组或者私钥数组';
ALTER TABLE peer ADD `CERTIFICATE_ALIAS` varchar(50) COMMENT 'PKI中证书的别名';
ALTER TABLE peer ADD `CERTIFICATE_STORE_PASS` varchar(50) COMMENT 'PKI密钥库文件密码';

alter table block modify column `BLOCK_BUILDER_ID` varchar(1024) COLLATE utf8_bin NOT NULL COMMENT '创建者身份';
alter table block_d071960503354579affb6ceeab831ae0 modify column `BLOCK_BUILDER_ID` varchar(1024) COLLATE utf8_bin NOT NULL COMMENT '创建者身份';
alter table block_cache_d071960503354579affb6ceeab831ae0 modify column `BLOCK_BUILDER_ID` varchar(1024) COLLATE utf8_bin NOT NULL COMMENT '创建者身份';

-- 测试环境相同的证书
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20332028307833290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D786D2C2053543D786D2C204C3D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204465632033302030373A30353A3330203230313920474D540D0A2020202020202020202020204E6F74204166746572203A204465632032372030373A30353A3330203230323920474D540D0A20202020202020205375626A6563743A20433D786D2C2053543D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A30623A34383A63383A64643A33343A33393A31333A63373A62623A62373A64383A39303A35383A66623A0D0A202020202020202020202020202020202020202038613A61383A31323A39613A65333A31333A66393A36383A31373A37653A35383A64613A36373A64303A63663A0D0A202020202020202020202020202020202020202036323A36613A64653A32313A36363A64313A34313A38353A35623A34383A64333A35313A37643A39363A31653A0D0A202020202020202020202020202020202020202036313A64663A62313A61363A38323A34323A37383A31633A37393A30633A66353A38343A32303A63663A64383A0D0A202020202020202020202020202020202020202035373A62303A34643A34393A37610D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A31653A66623A63343A31633A66343A35643A66303A36373A38333A32343A35633A31383A36633A31643A0D0A20202020202020202032303A61643A30623A37303A33393A62653A32323A62313A37373A33613A63623A61343A33653A34333A39383A61393A31333A38313A0D0A20202020202020202030323A32303A30353A63663A36393A64623A32393A37353A65303A38353A64393A65653A39303A34323A32333A30393A30643A39343A0D0A20202020202020202030343A33613A32333A39663A65623A32333A36613A36393A38323A30373A30393A36303A30343A30613A66353A63660D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B674177494241674942417A414B4267677167527A5056514744645442684D517377435159445651514745774A346254454C4D416B470D0A413155454341774365473078437A414A42674E564241634D416E68744D517377435159445651514B44414A346254454C4D416B474131554543777743654730780D0A437A414A42674E5642414D4D416E68744D5245774477594A4B6F5A496876634E41516B4246674A3462544165467730784F5445794D7A41774E7A41314D7A42610D0A467730794F5445794D6A63774E7A41314D7A42614D465178437A414A42674E5642415954416E68744D517377435159445651514944414A346254454C4D416B470D0A413155454367774365473078437A414A42674E564241734D416E68744D517377435159445651514444414A34625445524D41384743537147534962334451454A0D0A41525943654730775754415442676371686B6A4F505149424267677167527A50565147434C514E434141514C534D6A644E446B5478377533324A42592B34716F0D0A4570726A452F6C6F46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454647703749526F634A6F3570784C766A0D0A4C3072674A326249706E50694D42384741315564497751594D4261414647703749526F634A6F3570784C766A4C3072674A326249706E50694D416F47434371420D0A484D395641594E31413063414D4551434942373778427A305866426E6779526347477764494B304C63446D2B497246334F73756B506B4F5971524F42416941460D0A7A326E624B58586768646E756B45496A4351325542446F6A6E2B736A616D6D4342776C67424172317A773D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167726A544A46736770484564545677327A0D0A417274376C4A6C7943726F32646B793969784C6D544D2F636D33536852414E434141514C534D6A644E446B5478377533324A42592B34716F4570726A452F6C6F0D0A46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId1OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20332028307833290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D786D2C2053543D786D2C204C3D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204465632033302030373A30353A3330203230313920474D540D0A2020202020202020202020204E6F74204166746572203A204465632032372030373A30353A3330203230323920474D540D0A20202020202020205375626A6563743A20433D786D2C2053543D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A30623A34383A63383A64643A33343A33393A31333A63373A62623A62373A64383A39303A35383A66623A0D0A202020202020202020202020202020202020202038613A61383A31323A39613A65333A31333A66393A36383A31373A37653A35383A64613A36373A64303A63663A0D0A202020202020202020202020202020202020202036323A36613A64653A32313A36363A64313A34313A38353A35623A34383A64333A35313A37643A39363A31653A0D0A202020202020202020202020202020202020202036313A64663A62313A61363A38323A34323A37383A31633A37393A30633A66353A38343A32303A63663A64383A0D0A202020202020202020202020202020202020202035373A62303A34643A34393A37610D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A31653A66623A63343A31633A66343A35643A66303A36373A38333A32343A35633A31383A36633A31643A0D0A20202020202020202032303A61643A30623A37303A33393A62653A32323A62313A37373A33613A63623A61343A33653A34333A39383A61393A31333A38313A0D0A20202020202020202030323A32303A30353A63663A36393A64623A32393A37353A65303A38353A64393A65653A39303A34323A32333A30393A30643A39343A0D0A20202020202020202030343A33613A32333A39663A65623A32333A36613A36393A38323A30373A30393A36303A30343A30613A66353A63660D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B674177494241674942417A414B4267677167527A5056514744645442684D517377435159445651514745774A346254454C4D416B470D0A413155454341774365473078437A414A42674E564241634D416E68744D517377435159445651514B44414A346254454C4D416B474131554543777743654730780D0A437A414A42674E5642414D4D416E68744D5245774477594A4B6F5A496876634E41516B4246674A3462544165467730784F5445794D7A41774E7A41314D7A42610D0A467730794F5445794D6A63774E7A41314D7A42614D465178437A414A42674E5642415954416E68744D517377435159445651514944414A346254454C4D416B470D0A413155454367774365473078437A414A42674E564241734D416E68744D517377435159445651514444414A34625445524D41384743537147534962334451454A0D0A41525943654730775754415442676371686B6A4F505149424267677167527A50565147434C514E434141514C534D6A644E446B5478377533324A42592B34716F0D0A4570726A452F6C6F46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454647703749526F634A6F3570784C766A0D0A4C3072674A326249706E50694D42384741315564497751594D4261414647703749526F634A6F3570784C766A4C3072674A326249706E50694D416F47434371420D0A484D395641594E31413063414D4551434942373778427A305866426E6779526347477764494B304C63446D2B497246334F73756B506B4F5971524F42416941460D0A7A326E624B58586768646E756B45496A4351325542446F6A6E2B736A616D6D4342776C67424172317A773D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167726A544A46736770484564545677327A0D0A417274376C4A6C7943726F32646B793969784C6D544D2F636D33536852414E434141514C534D6A644E446B5478377533324A42592B34716F4570726A452F6C6F0D0A46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId2OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20332028307833290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D786D2C2053543D786D2C204C3D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204465632033302030373A30353A3330203230313920474D540D0A2020202020202020202020204E6F74204166746572203A204465632032372030373A30353A3330203230323920474D540D0A20202020202020205375626A6563743A20433D786D2C2053543D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A30623A34383A63383A64643A33343A33393A31333A63373A62623A62373A64383A39303A35383A66623A0D0A202020202020202020202020202020202020202038613A61383A31323A39613A65333A31333A66393A36383A31373A37653A35383A64613A36373A64303A63663A0D0A202020202020202020202020202020202020202036323A36613A64653A32313A36363A64313A34313A38353A35623A34383A64333A35313A37643A39363A31653A0D0A202020202020202020202020202020202020202036313A64663A62313A61363A38323A34323A37383A31633A37393A30633A66353A38343A32303A63663A64383A0D0A202020202020202020202020202020202020202035373A62303A34643A34393A37610D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A31653A66623A63343A31633A66343A35643A66303A36373A38333A32343A35633A31383A36633A31643A0D0A20202020202020202032303A61643A30623A37303A33393A62653A32323A62313A37373A33613A63623A61343A33653A34333A39383A61393A31333A38313A0D0A20202020202020202030323A32303A30353A63663A36393A64623A32393A37353A65303A38353A64393A65653A39303A34323A32333A30393A30643A39343A0D0A20202020202020202030343A33613A32333A39663A65623A32333A36613A36393A38323A30373A30393A36303A30343A30613A66353A63660D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B674177494241674942417A414B4267677167527A5056514744645442684D517377435159445651514745774A346254454C4D416B470D0A413155454341774365473078437A414A42674E564241634D416E68744D517377435159445651514B44414A346254454C4D416B474131554543777743654730780D0A437A414A42674E5642414D4D416E68744D5245774477594A4B6F5A496876634E41516B4246674A3462544165467730784F5445794D7A41774E7A41314D7A42610D0A467730794F5445794D6A63774E7A41314D7A42614D465178437A414A42674E5642415954416E68744D517377435159445651514944414A346254454C4D416B470D0A413155454367774365473078437A414A42674E564241734D416E68744D517377435159445651514444414A34625445524D41384743537147534962334451454A0D0A41525943654730775754415442676371686B6A4F505149424267677167527A50565147434C514E434141514C534D6A644E446B5478377533324A42592B34716F0D0A4570726A452F6C6F46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454647703749526F634A6F3570784C766A0D0A4C3072674A326249706E50694D42384741315564497751594D4261414647703749526F634A6F3570784C766A4C3072674A326249706E50694D416F47434371420D0A484D395641594E31413063414D4551434942373778427A305866426E6779526347477764494B304C63446D2B497246334F73756B506B4F5971524F42416941460D0A7A326E624B58586768646E756B45496A4351325542446F6A6E2B736A616D6D4342776C67424172317A773D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167726A544A46736770484564545677327A0D0A417274376C4A6C7943726F32646B793969784C6D544D2F636D33536852414E434141514C534D6A644E446B5478377533324A42592B34716F4570726A452F6C6F0D0A46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId3OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20332028307833290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D786D2C2053543D786D2C204C3D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204465632033302030373A30353A3330203230313920474D540D0A2020202020202020202020204E6F74204166746572203A204465632032372030373A30353A3330203230323920474D540D0A20202020202020205375626A6563743A20433D786D2C2053543D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A30623A34383A63383A64643A33343A33393A31333A63373A62623A62373A64383A39303A35383A66623A0D0A202020202020202020202020202020202020202038613A61383A31323A39613A65333A31333A66393A36383A31373A37653A35383A64613A36373A64303A63663A0D0A202020202020202020202020202020202020202036323A36613A64653A32313A36363A64313A34313A38353A35623A34383A64333A35313A37643A39363A31653A0D0A202020202020202020202020202020202020202036313A64663A62313A61363A38323A34323A37383A31633A37393A30633A66353A38343A32303A63663A64383A0D0A202020202020202020202020202020202020202035373A62303A34643A34393A37610D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A31653A66623A63343A31633A66343A35643A66303A36373A38333A32343A35633A31383A36633A31643A0D0A20202020202020202032303A61643A30623A37303A33393A62653A32323A62313A37373A33613A63623A61343A33653A34333A39383A61393A31333A38313A0D0A20202020202020202030323A32303A30353A63663A36393A64623A32393A37353A65303A38353A64393A65653A39303A34323A32333A30393A30643A39343A0D0A20202020202020202030343A33613A32333A39663A65623A32333A36613A36393A38323A30373A30393A36303A30343A30613A66353A63660D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B674177494241674942417A414B4267677167527A5056514744645442684D517377435159445651514745774A346254454C4D416B470D0A413155454341774365473078437A414A42674E564241634D416E68744D517377435159445651514B44414A346254454C4D416B474131554543777743654730780D0A437A414A42674E5642414D4D416E68744D5245774477594A4B6F5A496876634E41516B4246674A3462544165467730784F5445794D7A41774E7A41314D7A42610D0A467730794F5445794D6A63774E7A41314D7A42614D465178437A414A42674E5642415954416E68744D517377435159445651514944414A346254454C4D416B470D0A413155454367774365473078437A414A42674E564241734D416E68744D517377435159445651514444414A34625445524D41384743537147534962334451454A0D0A41525943654730775754415442676371686B6A4F505149424267677167527A50565147434C514E434141514C534D6A644E446B5478377533324A42592B34716F0D0A4570726A452F6C6F46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454647703749526F634A6F3570784C766A0D0A4C3072674A326249706E50694D42384741315564497751594D4261414647703749526F634A6F3570784C766A4C3072674A326249706E50694D416F47434371420D0A484D395641594E31413063414D4551434942373778427A305866426E6779526347477764494B304C63446D2B497246334F73756B506B4F5971524F42416941460D0A7A326E624B58586768646E756B45496A4351325542446F6A6E2B736A616D6D4342776C67424172317A773D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167726A544A46736770484564545677327A0D0A417274376C4A6C7943726F32646B793969784C6D544D2F636D33536852414E434141514C534D6A644E446B5478377533324A42592B34716F4570726A452F6C6F0D0A46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId4OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20332028307833290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D786D2C2053543D786D2C204C3D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204465632033302030373A30353A3330203230313920474D540D0A2020202020202020202020204E6F74204166746572203A204465632032372030373A30353A3330203230323920474D540D0A20202020202020205375626A6563743A20433D786D2C2053543D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A30623A34383A63383A64643A33343A33393A31333A63373A62623A62373A64383A39303A35383A66623A0D0A202020202020202020202020202020202020202038613A61383A31323A39613A65333A31333A66393A36383A31373A37653A35383A64613A36373A64303A63663A0D0A202020202020202020202020202020202020202036323A36613A64653A32313A36363A64313A34313A38353A35623A34383A64333A35313A37643A39363A31653A0D0A202020202020202020202020202020202020202036313A64663A62313A61363A38323A34323A37383A31633A37393A30633A66353A38343A32303A63663A64383A0D0A202020202020202020202020202020202020202035373A62303A34643A34393A37610D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A31653A66623A63343A31633A66343A35643A66303A36373A38333A32343A35633A31383A36633A31643A0D0A20202020202020202032303A61643A30623A37303A33393A62653A32323A62313A37373A33613A63623A61343A33653A34333A39383A61393A31333A38313A0D0A20202020202020202030323A32303A30353A63663A36393A64623A32393A37353A65303A38353A64393A65653A39303A34323A32333A30393A30643A39343A0D0A20202020202020202030343A33613A32333A39663A65623A32333A36613A36393A38323A30373A30393A36303A30343A30613A66353A63660D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B674177494241674942417A414B4267677167527A5056514744645442684D517377435159445651514745774A346254454C4D416B470D0A413155454341774365473078437A414A42674E564241634D416E68744D517377435159445651514B44414A346254454C4D416B474131554543777743654730780D0A437A414A42674E5642414D4D416E68744D5245774477594A4B6F5A496876634E41516B4246674A3462544165467730784F5445794D7A41774E7A41314D7A42610D0A467730794F5445794D6A63774E7A41314D7A42614D465178437A414A42674E5642415954416E68744D517377435159445651514944414A346254454C4D416B470D0A413155454367774365473078437A414A42674E564241734D416E68744D517377435159445651514444414A34625445524D41384743537147534962334451454A0D0A41525943654730775754415442676371686B6A4F505149424267677167527A50565147434C514E434141514C534D6A644E446B5478377533324A42592B34716F0D0A4570726A452F6C6F46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454647703749526F634A6F3570784C766A0D0A4C3072674A326249706E50694D42384741315564497751594D4261414647703749526F634A6F3570784C766A4C3072674A326249706E50694D416F47434371420D0A484D395641594E31413063414D4551434942373778427A305866426E6779526347477764494B304C63446D2B497246334F73756B506B4F5971524F42416941460D0A7A326E624B58586768646E756B45496A4351325542446F6A6E2B736A616D6D4342776C67424172317A773D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167726A544A46736770484564545677327A0D0A417274376C4A6C7943726F32646B793969784C6D544D2F636D33536852414E434141514C534D6A644E446B5478377533324A42592B34716F4570726A452F6C6F0D0A46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId5OfOrg1Test');

--- 20200204测试环境 不同的证书
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20342028307834290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70312C2053543D70312C204C3D70312C204F3D70312C204F553D70312C20434E3D70312F656D61696C416464726573733D70310D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A32343A3038203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A32343A3038203230333020474D540D0A20202020202020205375626A6563743A20433D70312C2053543D70312C204F3D70312C204F553D70312C20434E3D70312F656D61696C416464726573733D70310D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A38323A31343A62633A65313A39303A64363A33643A61333A32343A61343A64363A38323A32613A62613A0D0A202020202020202020202020202020202020202064353A37343A38303A30633A62363A30383A35633A31303A32393A33373A64323A66353A37653A33373A30353A0D0A202020202020202020202020202020202020202061393A34353A63393A32613A63363A32373A31623A32393A63323A36343A66383A64613A30393A66393A35363A0D0A202020202020202020202020202020202020202062393A35393A65353A66333A34643A33323A65653A32323A65373A66663A61363A30303A63313A62363A34303A0D0A202020202020202020202020202020202020202062343A34643A38313A63323A65390D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202034303A45363A43353A31353A34383A35413A41323A33463A36373A34343A38333A46333A38433A31313A31323A36353A36323A46333A39423A46330D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A34303A45363A43353A31353A34383A35413A41323A33463A36373A34343A38333A46333A38433A31313A31323A36353A36323A46333A39423A46330D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34353A30323A32303A36343A37613A35373A32353A38633A63393A65303A61623A63353A39383A36363A66653A33393A61393A0D0A20202020202020202038663A66653A31613A32383A39393A34343A34613A64383A64623A63353A38303A39373A32393A32393A65613A30373A33343A39393A0D0A20202020202020202030323A32313A30303A63393A37313A63623A38373A35373A63613A39633A36343A66313A32623A37343A34613A30663A35653A31353A0D0A20202020202020202033363A66383A38663A64313A64303A37623A32623A36303A33663A36373A32623A30393A34613A36363A32653A31623A61340D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434C44434341644B6741774942416749424244414B4267677167527A5056514744645442684D517377435159445651514745774A774D54454C4D416B470D0A413155454341774363444578437A414A42674E564241634D416E41784D517377435159445651514B44414A774D54454C4D416B474131554543777743634445780D0A437A414A42674E5642414D4D416E41784D5245774477594A4B6F5A496876634E41516B4246674A774D544165467730794D4441794D4451774E7A49304D4468610D0A4677307A4D4441794D4445774E7A49304D4468614D465178437A414A42674E5642415954416E41784D517377435159445651514944414A774D54454C4D416B470D0A413155454367774363444578437A414A42674E564241734D416E41784D517377435159445651514444414A774D5445524D41384743537147534962334451454A0D0A41525943634445775754415442676371686B6A4F505149424267677167527A50565147434C514E4341415343464C7A686B4E59396F79536B316F4971757456300D0A67417932434677514B5466533958343342616C46795372474A787370776D543432676E3556726C5A35664E4E4D753469352F2B6D414D4732514C524E67634C700D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454645446D785256495771492F5A3053440D0A38347752456D56693835767A4D42384741315564497751594D4261414645446D785256495771492F5A30534438347752456D56693835767A4D416F47434371420D0A484D395641594E31413067414D455543494752365679574D79654372785A686D2F6A6D706A2F34614B4A6C4553746A62785943584B536E71427A535A416945410D0A7958484C6831664B6E4754784B33524B443134564E766950306442374B32412F5A79734A536D59754736513D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D3956415949744247307761774942415151676864394A5369784A7738394E686B4D590D0A496C55504577424B6968537136453976376D35765A4171756E49616852414E4341415343464C7A686B4E59396F79536B316F49717574563067417932434677510D0A4B5466533958343342616C46795372474A787370776D543432676E3556726C5A35664E4E4D753469352F2B6D414D4732514C524E67634C700D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId1OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20352028307835290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70322C2053543D70322C204C3D70322C204F3D70322C204F553D70322C20434E3D70322F656D61696C416464726573733D70320D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A33323A3035203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A33323A3035203230333020474D540D0A20202020202020205375626A6563743A20433D70322C2053543D70322C204F3D70322C204F553D70322C20434E3D70322F656D61696C416464726573733D70320D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A31383A39643A38633A38363A65343A37363A62633A64313A35663A64663A63333A31353A39343A32633A0D0A202020202020202020202020202020202020202036323A32663A65333A35343A38343A37343A65333A61373A63363A30383A62383A65633A32363A39333A65313A0D0A202020202020202020202020202020202020202066373A65623A36383A39373A35663A61353A65613A62333A65373A62343A36663A32623A31373A33623A35373A0D0A202020202020202020202020202020202020202033663A61653A63663A38663A39363A61323A38353A33363A61663A66313A63633A37643A61363A62393A33643A0D0A202020202020202020202020202020202020202062613A63643A31653A61653A32380D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202045433A32353A31323A31303A43313A30383A39433A46373A36323A30433A33373A43303A33313A41443A45373A31353A43393A46453A36413A46460D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A45433A32353A31323A31303A43313A30383A39433A46373A36323A30433A33373A43303A33313A41443A45373A31353A43393A46453A36413A46460D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34363A30323A32313A30303A64393A33323A65663A35313A39343A33313A39363A64353A30363A64343A32343A65643A64663A0D0A20202020202020202033643A30303A63363A31393A33653A34373A31373A61393A30323A32633A39343A36633A62613A39303A62373A62333A62653A64663A0D0A20202020202020202030623A30323A32313A30303A61323A39313A65633A35333A34663A38363A35323A37333A34643A30333A39663A39653A64343A35323A0D0A20202020202020202030363A63303A34653A66633A64663A30613A37633A65373A66643A38643A31623A61623A37373A33353A62613A62633A36343A65380D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434C54434341644B6741774942416749424254414B4267677167527A5056514744645442684D517377435159445651514745774A774D6A454C4D416B470D0A413155454341774363444978437A414A42674E564241634D416E41794D517377435159445651514B44414A774D6A454C4D416B474131554543777743634449780D0A437A414A42674E5642414D4D416E41794D5245774477594A4B6F5A496876634E41516B4246674A774D6A4165467730794D4441794D4451774E7A4D794D4456610D0A4677307A4D4441794D4445774E7A4D794D4456614D465178437A414A42674E5642415954416E41794D517377435159445651514944414A774D6A454C4D416B470D0A413155454367774363444978437A414A42674E564241734D416E41794D517377435159445651514444414A774D6A45524D41384743537147534962334451454A0D0A41525943634449775754415442676371686B6A4F505149424267677167527A50565147434C514E43414151596E5979473548613830562F66777857554C4749760D0A34315345644F4F6E786769343743615434666672614A64667065717A353752764B786337567A2B757A342B576F6F5532722F484D666161355062724E4871346F0D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F42425945464F776C45684442434A7A33596777330D0A774447743578584A2F6D722F4D42384741315564497751594D426141464F776C45684442434A7A3359677733774447743578584A2F6D722F4D416F47434371420D0A484D395641594E3141306B414D4559434951445A4D7539526C444757315162554A4F3366505144474754354846366B434C4A52737570433373373766437749680D0A414B4B5237464E50686C4A7A54514F666E7452534273424F2F4E384B664F66396A527572647A57367647546F0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167644A35614B4C2F6871723549586971420D0A686942356D434E2B767265697271797A5A69784C546B623831774F6852414E43414151596E5979473548613830562F66777857554C47497634315345644F4F6E0D0A786769343743615434666672614A64667065717A353752764B786337567A2B757A342B576F6F5532722F484D666161355062724E4871346F0D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId2OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20362028307836290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70332C2053543D70332C204C3D70332C204F3D70332C204F553D70332C20434E3D70332F656D61696C416464726573733D70330D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A33343A3132203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A33343A3132203230333020474D540D0A20202020202020205375626A6563743A20433D70332C2053543D70332C204F3D70332C204F553D70332C20434E3D70332F656D61696C416464726573733D70330D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A61373A35353A66343A30323A63363A32323A63373A62363A36393A38623A66303A36633A37343A38303A0D0A202020202020202020202020202020202020202039353A34363A36633A65353A35333A32633A38323A61623A65633A65363A66653A65383A39313A38663A31643A0D0A202020202020202020202020202020202020202064333A64333A31363A32353A39353A37373A35663A63373A37323A64643A36623A33343A62363A63363A30353A0D0A202020202020202020202020202020202020202032353A61633A36343A30613A34613A36323A39343A31663A31353A35643A35303A64653A32613A39633A39643A0D0A202020202020202020202020202020202020202063373A39663A36353A63363A65660D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036383A41463A38323A34323A41343A31323A46333A31373A37363A38443A42423A44453A41373A43323A42453A34373A43443A42463A33453A30300D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36383A41463A38323A34323A41343A31323A46333A31373A37363A38443A42423A44453A41373A43323A42453A34373A43443A42463A33453A30300D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34353A30323A32313A30303A61633A63323A39623A37643A34373A62653A35633A34323A30393A65663A34663A33343A34333A0D0A20202020202020202036393A38323A62313A32393A61303A31623A36633A31363A32343A62353A61393A37383A63343A32633A39653A38623A30653A63653A0D0A20202020202020202066343A30323A32303A36393A66313A65363A64653A33373A39363A35383A65353A30623A63633A66303A39653A32393A36643A65363A0D0A20202020202020202064633A39353A39613A37653A63353A39303A65373A36653A35343A31383A39663A31643A31653A63303A64353A32373A66640D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434C44434341644B674177494241674942426A414B4267677167527A5056514744645442684D517377435159445651514745774A774D7A454C4D416B470D0A413155454341774363444D78437A414A42674E564241634D416E417A4D517377435159445651514B44414A774D7A454C4D416B47413155454377774363444D780D0A437A414A42674E5642414D4D416E417A4D5245774477594A4B6F5A496876634E41516B4246674A774D7A4165467730794D4441794D4451774E7A4D304D544A610D0A4677307A4D4441794D4445774E7A4D304D544A614D465178437A414A42674E5642415954416E417A4D517377435159445651514944414A774D7A454C4D416B470D0A413155454367774363444D78437A414A42674E564241734D416E417A4D517377435159445651514444414A774D7A45524D41384743537147534962334451454A0D0A4152594363444D775754415442676371686B6A4F505149424267677167527A50565147434C514E434141536E5666514378694C48746D6D4C38477830674A56470D0A624F56544C494B72374F622B364A4750486450544669575664312F48637431724E4C6247425357735A41704B5970516646563151336971636E6365665A6362760D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F4242594546476976676B4B6B45764D58646F32370D0A33716643766B664E767A34414D42384741315564497751594D42614146476976676B4B6B45764D58646F323733716643766B664E767A34414D416F47434371420D0A484D395641594E31413067414D45554349514373777074395237356351676E76547A524461594B784B6141626242596B74616C34784379656977374F394149670D0A6166486D336A6557574F554C7A5043654B57336D334A57616673575135323555474A3864487344564A2F303D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D395641594974424730776177494241515167596C3344636D344655302B6E774F46360D0A2B5071544F572B4734476E534E4178797430726333337052374A716852414E434141536E5666514378694C48746D6D4C38477830674A5647624F56544C494B720D0A374F622B364A4750486450544669575664312F48637431724E4C6247425357735A41704B5970516646563151336971636E6365665A6362760D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId3OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20372028307837290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70342C2053543D70342C204C3D70342C204F3D70342C204F553D70342C20434E3D70342F656D61696C416464726573733D70340D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A33353A3435203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A33353A3435203230333020474D540D0A20202020202020205375626A6563743A20433D70342C2053543D70342C204F3D70342C204F553D70342C20434E3D70342F656D61696C416464726573733D70340D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A31353A35333A32313A35343A66363A63613A65653A31633A31653A34313A63613A35663A65393A33663A0D0A202020202020202020202020202020202020202039393A61373A30323A61353A32353A37393A33353A37653A64653A64383A37353A36303A66613A65353A62613A0D0A202020202020202020202020202020202020202066643A65303A65373A33383A39373A62633A66663A64333A33363A34363A31313A64313A66353A34373A39653A0D0A202020202020202020202020202020202020202066633A39323A35383A30373A61383A30393A39383A34313A64623A66353A32313A34333A65313A39393A38613A0D0A202020202020202020202020202020202020202038323A65333A30383A37393A66340D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036343A38383A36313A41313A34313A39323A38313A45383A38393A39383A39323A30463A46323A43313A35393A32463A31373A46383A39413A36450D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36343A38383A36313A41313A34313A39323A38313A45383A38393A39383A39323A30463A46323A43313A35393A32463A31373A46383A39413A36450D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34353A30323A32303A36313A35623A62663A30313A62613A65333A36353A31333A36643A62323A64353A65313A62663A34343A0D0A20202020202020202066343A35623A30313A63363A63643A39393A63303A36313A33383A37373A34313A38313A32393A36353A39363A38643A30373A39353A0D0A20202020202020202030323A32313A30303A61643A34353A31343A35323A61393A62633A65633A65333A36643A38663A30643A30383A63313A31393A38613A0D0A20202020202020202035633A61333A36323A61313A64353A37333A35633A35623A30363A38313A65653A35353A63383A38623A32333A63613A32330D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434C44434341644B674177494241674942427A414B4267677167527A5056514744645442684D517377435159445651514745774A774E44454C4D416B470D0A413155454341774363445178437A414A42674E564241634D416E41304D517377435159445651514B44414A774E44454C4D416B474131554543777743634451780D0A437A414A42674E5642414D4D416E41304D5245774477594A4B6F5A496876634E41516B4246674A774E444165467730794D4441794D4451774E7A4D314E4456610D0A4677307A4D4441794D4445774E7A4D314E4456614D465178437A414A42674E5642415954416E41304D517377435159445651514944414A774E44454C4D416B470D0A413155454367774363445178437A414A42674E564241734D416E41304D517377435159445651514444414A774E4445524D41384743537147534962334451454A0D0A41525943634451775754415442676371686B6A4F505149424267677167527A50565147434C514E4341415156557946553973727548423542796C2F7050356D6E0D0A4171556C6554562B337468315950726C75763367357A695876502F544E6B5952306656486E7679535741656F435A6842322F5568512B475A696F4C6A43486E300D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F4242594546475349596146426B6F486F695A69530D0A442F4C42575338582B4A70754D42384741315564497751594D42614146475349596146426B6F486F695A6953442F4C42575338582B4A70754D416F47434371420D0A484D395641594E31413067414D45554349474662767747363432555462624C5634623945394673427873325A77474534643047424B5757576A516556416945410D0A7255555555716D38374F4E746A77304977526D4B584B4E696F64567A58467347676535567949736A79694D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D3956415949744247307761774942415151673564775230727438636767644A474C580D0A492B4F6459364168465459414961657964744D5849392F304C49536852414E4341415156557946553973727548423542796C2F7050356D6E4171556C6554562B0D0A337468315950726C75763367357A695876502F544E6B5952306656486E7679535741656F435A6842322F5568512B475A696F4C6A43486E300D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId4OfOrg1Test');
UPDATE `peer` SET  `CERTIFICATE_CER_FILE`=0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20382028307838290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70352C2053543D70352C204C3D70352C204F3D70352C204F553D70352C20434E3D70352F656D61696C416464726573733D70350D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A33373A3236203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A33373A3236203230333020474D540D0A20202020202020205375626A6563743A20433D70352C2053543D70352C204F3D70352C204F553D70352C20434E3D70352F656D61696C416464726573733D70350D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A62323A39313A30383A36303A34613A36643A64383A36393A36373A66663A37323A37363A63383A39663A0D0A202020202020202020202020202020202020202061323A39373A66313A36343A62383A61383A62323A62363A33643A33363A39393A34623A65663A38623A31363A0D0A202020202020202020202020202020202020202034643A35383A35623A34333A36633A63613A66353A38333A31313A34643A62623A65373A66313A66343A66633A0D0A202020202020202020202020202020202020202030373A36663A61383A66653A36343A31353A36363A61663A34633A36663A38613A61373A64303A38303A39393A0D0A202020202020202020202020202020202020202031633A36313A65323A62663A32340D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202046303A35373A44443A33463A35333A31303A37443A32323A31323A33303A42323A46343A34353A30413A34413A45323A42463A31463A39413A31440D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A46303A35373A44443A33463A35333A31303A37443A32323A31323A33303A42323A46343A34353A30413A34413A45323A42463A31463A39413A31440D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A37633A32333A62633A32313A63393A64613A33373A32393A62643A39353A30383A35653A66353A30613A0D0A20202020202020202032643A62623A38313A65333A33353A66663A33393A65303A63393A61333A39643A64653A62363A32613A61333A31653A39373A66633A0D0A20202020202020202030323A32303A34373A37613A36363A34343A63613A36303A65323A35373A32383A38373A38303A31663A33373A39303A38303A30383A0D0A20202020202020202032363A64303A30333A36353A33643A61383A36353A35663A64333A30363A35323A61343A37313A34393A36353A38640D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B6741774942416749424344414B4267677167527A5056514744645442684D517377435159445651514745774A774E54454C4D416B470D0A413155454341774363445578437A414A42674E564241634D416E41314D517377435159445651514B44414A774E54454C4D416B474131554543777743634455780D0A437A414A42674E5642414D4D416E41314D5245774477594A4B6F5A496876634E41516B4246674A774E544165467730794D4441794D4451774E7A4D334D6A5A610D0A4677307A4D4441794D4445774E7A4D334D6A5A614D465178437A414A42674E5642415954416E41314D517377435159445651514944414A774E54454C4D416B470D0A413155454367774363445578437A414A42674E564241734D416E41314D517377435159445651514444414A774E5445524D41384743537147534962334451454A0D0A41525943634455775754415442676371686B6A4F505149424267677167527A50565147434C514E43414153796B516867536D33596157662F636E62496E364B580D0A38575334714C4B325054615A532B2B4C466B315957304E737976574445553237352F48302F4164767150356B4657617654472B4B703943416D5278683472386B0D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F42425945465042583354395445483069456A43790D0A3945554B53754B2F48356F644D42384741315564497751594D426141465042583354395445483069456A43793945554B53754B2F48356F644D416F47434371420D0A484D395641594E31413063414D4551434948776A7643484A326A6370765A55495876554B4C627542347A582F4F65444A6F3533657469716A48706638416942480D0A656D5A45796D446956796948674238336B4941494A7441445A54326F5A562F54426C4B6B63556C6C6A513D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, `CERTIFICATE_KEY_STORE_FILE`=0x2D2D2D2D2D424547494E2050524956415445204B45592D2D2D2D2D0D0A4D494748416745414D424D4742797147534D34394167454743437142484D3956415949744247307761774942415151674544737A6151347A5739586F4E4A53460D0A37397566366F366B50766C766D7150436B2F4B4C4A4D4537786D576852414E43414153796B516867536D33596157662F636E62496E364B5838575334714C4B320D0A5054615A532B2B4C466B315957304E737976574445553237352F48302F4164767150356B4657617654472B4B703943416D5278683472386B0D0A2D2D2D2D2D454E442050524956415445204B45592D2D2D2D2D0D0A, `CERTIFICATE_ALIAS`='', `CERTIFICATE_STORE_PASS`='' WHERE (`PEER_ID_VALUE`='peerId5OfOrg1Test');


--- 20200327增加peer_channel字段
alter table peer_channel add `IN_BLOCK_HEIGHT` bigint(20) NOT NULL DEFAULT '0' COMMENT '节点加入通道时的区块高度';
alter table peer_channel add `OUT_BLOCK_HEIGH` bigint(20) NOT NULL DEFAULT '0' COMMENT '节点离开通道时的区块高度';

alter table channel add `AVAILABLE` int(11) DEFAULT '1' COMMENT '通道是否还可用';

-- 20200407 smart_contract新增字段
ALTER TABLE smart_contract ADD `FLAG` varchar(2) NOT NULL DEFAULT '1' COMMENT '状态，1正常；2冻结；3销毁';
ALTER TABLE smart_contract ADD `UPDATE_TIME` timestamp NULL DEFAULT NULL COMMENT '修改时间';
alter table smart_contract modify column `SC_NAME` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '编码';


-- 20200423 新增节点证书表
DROP TABLE IF EXISTS `peer_certificate`;
CREATE TABLE `peer_certificate`  (
  `ID` varchar(128) NOT NULL  COMMENT '主键',
  `PEER_ID` varchar(256) COLLATE utf8_bin NOT NULL DEFAULT '' COMMENT '节点值',
  `CERTIFICATE_CER_FILE` longblob COMMENT 'PKI中CA证书文件的字节数组',
  `FLAG` varchar(2) NOT NULL DEFAULT '0' COMMENT '状态，0正常；1冻结；2吊销；',
  `CERTIFICATE_HASH` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'CA证书文件的哈希值',
  `CREATE_TIME` timestamp DEFAULT NULL COMMENT '创建时间',
  `UPDATE_TIME` timestamp DEFAULT NULL COMMENT '修改时间',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_bin ROW_FORMAT = Dynamic;

-- 两个节点测试例子数据（不同的证书）
INSERT INTO `peer_certificate` VALUES ('1', 'peerId1OfOrg1Test', 0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20342028307834290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70312C2053543D70312C204C3D70312C204F3D70312C204F553D70312C20434E3D70312F656D61696C416464726573733D70310D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A32343A3038203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A32343A3038203230333020474D540D0A20202020202020205375626A6563743A20433D70312C2053543D70312C204F3D70312C204F553D70312C20434E3D70312F656D61696C416464726573733D70310D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A38323A31343A62633A65313A39303A64363A33643A61333A32343A61343A64363A38323A32613A62613A0D0A202020202020202020202020202020202020202064353A37343A38303A30633A62363A30383A35633A31303A32393A33373A64323A66353A37653A33373A30353A0D0A202020202020202020202020202020202020202061393A34353A63393A32613A63363A32373A31623A32393A63323A36343A66383A64613A30393A66393A35363A0D0A202020202020202020202020202020202020202062393A35393A65353A66333A34643A33323A65653A32323A65373A66663A61363A30303A63313A62363A34303A0D0A202020202020202020202020202020202020202062343A34643A38313A63323A65390D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202034303A45363A43353A31353A34383A35413A41323A33463A36373A34343A38333A46333A38433A31313A31323A36353A36323A46333A39423A46330D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A34303A45363A43353A31353A34383A35413A41323A33463A36373A34343A38333A46333A38433A31313A31323A36353A36323A46333A39423A46330D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34353A30323A32303A36343A37613A35373A32353A38633A63393A65303A61623A63353A39383A36363A66653A33393A61393A0D0A20202020202020202038663A66653A31613A32383A39393A34343A34613A64383A64623A63353A38303A39373A32393A32393A65613A30373A33343A39393A0D0A20202020202020202030323A32313A30303A63393A37313A63623A38373A35373A63613A39633A36343A66313A32623A37343A34613A30663A35653A31353A0D0A20202020202020202033363A66383A38663A64313A64303A37623A32623A36303A33663A36373A32623A30393A34613A36363A32653A31623A61340D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434C44434341644B6741774942416749424244414B4267677167527A5056514744645442684D517377435159445651514745774A774D54454C4D416B470D0A413155454341774363444578437A414A42674E564241634D416E41784D517377435159445651514B44414A774D54454C4D416B474131554543777743634445780D0A437A414A42674E5642414D4D416E41784D5245774477594A4B6F5A496876634E41516B4246674A774D544165467730794D4441794D4451774E7A49304D4468610D0A4677307A4D4441794D4445774E7A49304D4468614D465178437A414A42674E5642415954416E41784D517377435159445651514944414A774D54454C4D416B470D0A413155454367774363444578437A414A42674E564241734D416E41784D517377435159445651514444414A774D5445524D41384743537147534962334451454A0D0A41525943634445775754415442676371686B6A4F505149424267677167527A50565147434C514E4341415343464C7A686B4E59396F79536B316F4971757456300D0A67417932434677514B5466533958343342616C46795372474A787370776D543432676E3556726C5A35664E4E4D753469352F2B6D414D4732514C524E67634C700D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454645446D785256495771492F5A3053440D0A38347752456D56693835767A4D42384741315564497751594D4261414645446D785256495771492F5A30534438347752456D56693835767A4D416F47434371420D0A484D395641594E31413067414D455543494752365679574D79654372785A686D2F6A6D706A2F34614B4A6C4553746A62785943584B536E71427A535A416945410D0A7958484C6831664B6E4754784B33524B443134564E766950306442374B32412F5A79734A536D59754736513D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, '0', 'AC1B56DFCA526AEE455FEDD5F2B82B2E5F3D07E5DBFB8E42DA4E312977D8AE5D', '2020-04-23 15:43:00', null);
INSERT INTO `peer_certificate` VALUES ('2', 'peerId2OfOrg1Test', 0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20352028307835290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D70322C2053543D70322C204C3D70322C204F3D70322C204F553D70322C20434E3D70322F656D61696C416464726573733D70320D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204665622020342030373A33323A3035203230323020474D540D0A2020202020202020202020204E6F74204166746572203A204665622020312030373A33323A3035203230333020474D540D0A20202020202020205375626A6563743A20433D70322C2053543D70322C204F3D70322C204F553D70322C20434E3D70322F656D61696C416464726573733D70320D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A31383A39643A38633A38363A65343A37363A62633A64313A35663A64663A63333A31353A39343A32633A0D0A202020202020202020202020202020202020202036323A32663A65333A35343A38343A37343A65333A61373A63363A30383A62383A65633A32363A39333A65313A0D0A202020202020202020202020202020202020202066373A65623A36383A39373A35663A61353A65613A62333A65373A62343A36663A32623A31373A33623A35373A0D0A202020202020202020202020202020202020202033663A61653A63663A38663A39363A61323A38353A33363A61663A66313A63633A37643A61363A62393A33643A0D0A202020202020202020202020202020202020202062613A63643A31653A61653A32380D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202045433A32353A31323A31303A43313A30383A39433A46373A36323A30433A33373A43303A33313A41443A45373A31353A43393A46453A36413A46460D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A45433A32353A31323A31303A43313A30383A39433A46373A36323A30433A33373A43303A33313A41443A45373A31353A43393A46453A36413A46460D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34363A30323A32313A30303A64393A33323A65663A35313A39343A33313A39363A64353A30363A64343A32343A65643A64663A0D0A20202020202020202033643A30303A63363A31393A33653A34373A31373A61393A30323A32633A39343A36633A62613A39303A62373A62333A62653A64663A0D0A20202020202020202030623A30323A32313A30303A61323A39313A65633A35333A34663A38363A35323A37333A34643A30333A39663A39653A64343A35323A0D0A20202020202020202030363A63303A34653A66633A64663A30613A37633A65373A66643A38643A31623A61623A37373A33353A62613A62633A36343A65380D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434C54434341644B6741774942416749424254414B4267677167527A5056514744645442684D517377435159445651514745774A774D6A454C4D416B470D0A413155454341774363444978437A414A42674E564241634D416E41794D517377435159445651514B44414A774D6A454C4D416B474131554543777743634449780D0A437A414A42674E5642414D4D416E41794D5245774477594A4B6F5A496876634E41516B4246674A774D6A4165467730794D4441794D4451774E7A4D794D4456610D0A4677307A4D4441794D4445774E7A4D794D4456614D465178437A414A42674E5642415954416E41794D517377435159445651514944414A774D6A454C4D416B470D0A413155454367774363444978437A414A42674E564241734D416E41794D517377435159445651514444414A774D6A45524D41384743537147534962334451454A0D0A41525943634449775754415442676371686B6A4F505149424267677167527A50565147434C514E43414151596E5979473548613830562F66777857554C4749760D0A34315345644F4F6E786769343743615434666672614A64667065717A353752764B786337567A2B757A342B576F6F5532722F484D666161355062724E4871346F0D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F42425945464F776C45684442434A7A33596777330D0A774447743578584A2F6D722F4D42384741315564497751594D426141464F776C45684442434A7A3359677733774447743578584A2F6D722F4D416F47434371420D0A484D395641594E3141306B414D4559434951445A4D7539526C444757315162554A4F3366505144474754354846366B434C4A52737570433373373766437749680D0A414B4B5237464E50686C4A7A54514F666E7452534273424F2F4E384B664F66396A527572647A57367647546F0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, '0', 'C298FE4860CB875E0529DE5399C69E8147A0C37E50F157ADB2E32B2BCC22EDBB', '2020-04-23 15:43:00', null);

-- 相同的证书（每个节点都一样，改一下peerId）
INSERT INTO `peer_certificate` VALUES ('E6801B95840048B9920708A35BFF8D2F', 'peerId1OfOrg1Test', 0x43657274696669636174653A0D0A20202020446174613A0D0A202020202020202056657273696F6E3A20332028307832290D0A202020202020202053657269616C204E756D6265723A20332028307833290D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020204973737565723A20433D786D2C2053543D786D2C204C3D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A202020202020202056616C69646974790D0A2020202020202020202020204E6F74204265666F72653A204465632033302030373A30353A3330203230313920474D540D0A2020202020202020202020204E6F74204166746572203A204465632032372030373A30353A3330203230323920474D540D0A20202020202020205375626A6563743A20433D786D2C2053543D786D2C204F3D786D2C204F553D786D2C20434E3D786D2F656D61696C416464726573733D786D0D0A20202020202020205375626A656374205075626C6963204B657920496E666F3A0D0A2020202020202020202020205075626C6963204B657920416C676F726974686D3A2069642D65635075626C69634B65790D0A202020202020202020202020202020205075626C69632D4B65793A202832353620626974290D0A202020202020202020202020202020207075623A0D0A202020202020202020202020202020202020202030343A30623A34383A63383A64643A33343A33393A31333A63373A62623A62373A64383A39303A35383A66623A0D0A202020202020202020202020202020202020202038613A61383A31323A39613A65333A31333A66393A36383A31373A37653A35383A64613A36373A64303A63663A0D0A202020202020202020202020202020202020202036323A36613A64653A32313A36363A64313A34313A38353A35623A34383A64333A35313A37643A39363A31653A0D0A202020202020202020202020202020202020202036313A64663A62313A61363A38323A34323A37383A31633A37393A30633A66353A38343A32303A63663A64383A0D0A202020202020202020202020202020202020202035373A62303A34643A34393A37610D0A2020202020202020202020202020202041534E31204F49443A20736D327032353676310D0A202020202020202020202020202020204E4953542043555256453A20534D320D0A202020202020202058353039763320657874656E73696F6E733A0D0A20202020202020202020202058353039763320426173696320436F6E73747261696E74733A200D0A2020202020202020202020202020202043413A46414C53450D0A202020202020202020202020583530397633204B65792055736167653A200D0A202020202020202020202020202020204B657920456E6369706865726D656E740D0A2020202020202020202020204E6574736361706520436F6D6D656E743A200D0A20202020202020202020202020202020476D53534C2047656E6572617465642043657274696669636174650D0A202020202020202020202020583530397633205375626A656374204B6579204964656E7469666965723A200D0A2020202020202020202020202020202036413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A20202020202020202020202058353039763320417574686F72697479204B6579204964656E7469666965723A200D0A202020202020202020202020202020206B657969643A36413A37423A32313A31413A31433A32363A38453A36393A43343A42423A45333A32463A34413A45303A32373A36363A43383A41363A37333A45320D0A0D0A202020205369676E617475726520416C676F726974686D3A20736D327369676E2D776974682D736D330D0A20202020202020202033303A34343A30323A32303A31653A66623A63343A31633A66343A35643A66303A36373A38333A32343A35633A31383A36633A31643A0D0A20202020202020202032303A61643A30623A37303A33393A62653A32323A62313A37373A33613A63623A61343A33653A34333A39383A61393A31333A38313A0D0A20202020202020202030323A32303A30353A63663A36393A64623A32393A37353A65303A38353A64393A65653A39303A34323A32333A30393A30643A39343A0D0A20202020202020202030343A33613A32333A39663A65623A32333A36613A36393A38323A30373A30393A36303A30343A30613A66353A63660D0A2D2D2D2D2D424547494E2043455254494649434154452D2D2D2D2D0D0A4D4949434B7A434341644B674177494241674942417A414B4267677167527A5056514744645442684D517377435159445651514745774A346254454C4D416B470D0A413155454341774365473078437A414A42674E564241634D416E68744D517377435159445651514B44414A346254454C4D416B474131554543777743654730780D0A437A414A42674E5642414D4D416E68744D5245774477594A4B6F5A496876634E41516B4246674A3462544165467730784F5445794D7A41774E7A41314D7A42610D0A467730794F5445794D6A63774E7A41314D7A42614D465178437A414A42674E5642415954416E68744D517377435159445651514944414A346254454C4D416B470D0A413155454367774365473078437A414A42674E564241734D416E68744D517377435159445651514444414A34625445524D41384743537147534962334451454A0D0A41525943654730775754415442676371686B6A4F505149424267677167527A50565147434C514E434141514C534D6A644E446B5478377533324A42592B34716F0D0A4570726A452F6C6F46333559326D66517A324A713369466D3055474657306A5455583257486D486673616143516E676365517A31684344503246657754556C360D0A6F3447484D4947454D416B4741315564457751434D414177437759445652305042415144416755674D436F4743574347534147472B45494244515164466874480D0A62564E54544342485A57356C636D46305A5751675132567964476C6D61574E6864475577485159445652304F424259454647703749526F634A6F3570784C766A0D0A4C3072674A326249706E50694D42384741315564497751594D4261414647703749526F634A6F3570784C766A4C3072674A326249706E50694D416F47434371420D0A484D395641594E31413063414D4551434942373778427A305866426E6779526347477764494B304C63446D2B497246334F73756B506B4F5971524F42416941460D0A7A326E624B58586768646E756B45496A4351325542446F6A6E2B736A616D6D4342776C67424172317A773D3D0D0A2D2D2D2D2D454E442043455254494649434154452D2D2D2D2D0D0A, '0', '3B0E722242E260361A87DA45A5D3280A48F9B85E91C1ECDD50705971E5FE53EA', '2020-04-23 14:51:15', null);
-- 新增字段
ALTER TABLE peer_certificate  ADD `BLOCK_HEIGHT` bigint(20) NOT NULL DEFAULT '0' COMMENT '证书操作时的区块高度';
-- 20200707新增channelId字段
ALTER TABLE peer_certificate  ADD `CHANNEL_ID` char(128) DEFAULT NULL  COMMENT '通道编号';
ALTER TABLE peer_certificate ADD `CERTIFICATE_KEY_STORE_FILE` longtext COMMENT 'PKI本地密钥库文件的字节数组或者私钥数组';
ALTER TABLE peer_certificate ADD `IS_LOCAL_PEER` int(4) COMMENT '是否是本地节点,同peer';

-- 20200805 新增通道创建时间`
ALTER TABLE CHANNEL ADD  `CREATE_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3);
ALTER TABLE CHANNEL ADD `ORGANIZATION_ID` varchar(32) DEFAULT NULL COMMENT '组织ID';

-- 20200820 新增字段
ALTER TABLE MEMBER ADD `STATUS` tinyint(4) DEFAULT '0' COMMENT '0正常，1证书过期，2业务冻结，3业务删除';
ALTER TABLE CHANNEL ADD  `MEMBER_ADD_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员加入或修改链的控制策略';
ALTER TABLE CHANNEL ADD  `MEMBER_DEL_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员移除链的数据的策略';
ALTER TABLE ROLE ADD  `MEMBER_DEL_STRATEGY` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '成员移除该角色的控制策略';
ALTER TABLE MEMBER ADD `SIGN_ALGORITHM` varchar(16)  COMMENT '签名算法，取CERTIFICATE_CER_FILE属性的signature字段值';

-- 20200827 新增字段
ALTER TABLE SMART_CONTRACT ADD `EXTENDED_DATA` varchar(4096) COLLATE utf8_bin COMMENT '扩展属性';
ALTER TABLE SMART_CONTRACT ADD `ALISA` varchar(128) COLLATE utf8_bin COMMENT '别名';

CREATE TABLE `SMART_CONTRACT_AUTHORIZED` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键',
  `SC_NAME` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '编码',
  `SC_VERSION` varchar(45) COLLATE utf8_bin NOT NULL COMMENT '版本号',
  `PUBLIC_KEY` varchar(300) COLLATE utf8_bin NOT NULL COMMENT '数字证书的公钥，长度与具体采用的非对称加解密算法相关',
  `ROLE_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '角色ID',
  `CHANNEL_ID` varchar(128) COLLATE utf8_bin NOT NULL COMMENT '通道编号，冗余字段，查询使用',
  PRIMARY KEY (`ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=DYNAMIC;

-- 2020090917 变更时间`
ALTER TABLE STATE ADD  `PACK_TIMESTAMP` timestamp(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3);
